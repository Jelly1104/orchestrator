# HANDOFF.md - Sub-agent 작업 지시서

## 문서 메타데이터
- **문서명**: HANDOFF.md
- **생성일**: 2025-12-23
- **대상**: Sub-agent (Coding/Analysis/Design 모드)
- **PRD 기반**: 오케스트레이터 통합 기능 검증

## PRD 산출물 체크리스트 매핑

현재 작업에는 명시적인 PRD가 제공되지 않았으므로, 작업 설명 "오케스트레이터 통합 기능 검증"을 기반으로 다음과 같이 매핑합니다:

| 체크리스트 항목 | 구현 방식 | 담당 모드 |
|----------------|-----------|----------|
| 통합 검증 시스템 구축 | 테스트 오케스트레이터 + API 개발 | Coding |
| 검증 결과 시각화 | 대시보드 UI 개발 | Design + Coding |
| 성능 메트릭 수집 | 모니터링 시스템 구축 | Coding |
| 검증 보고서 생성 | 리포트 생성기 개발 | Analysis + Coding |
| Agent 연동 테스트 | 통합 테스트 시나리오 구현 | Analysis + Coding |

## Mode
**Coding** (주요 모드)
- 테스트 오케스트레이터 구현
- API 개발 (검증 실행, 상태 조회, 결과 조회)
- 데이터베이스 스키마 구현

**Analysis** (보조 모드)
- 검증 시나리오 상세 분석
- 성능 기준 수립
- 테스트 케이스 설계

## Required Outputs

### 1. 데이터베이스 스키마 (DDL)
```sql
-- TEST_EXECUTION, TEST_RESULTS, PERFORMANCE_METRICS 테이블 생성 스크립트
-- 인덱스 및 외래키 제약조건 포함
```

### 2. 검증 API 구현
- `POST /api/v1/orchestrator/test/start` - 통합 검증 시작
- `GET /api/v1/orchestrator/test/{test_id}/status` - 검증 상태 조회
- `GET /api/v1/orchestrator/test/{test_id}/results` - 검증 결과 조회
- `GET /api/v1/orchestrator/metrics/realtime` - 실시간 메트릭

### 3. 테스트 오케스트레이터 핵심 로직
- Agent 연동 테스트 실행
- Workflow 실행 검증
- 성능 메트릭 수집
- 검증 결과 저장

### 4. 프론트엔드 컴포넌트 (선택사항)
- 통합 테스트 대시보드
- 검증 결과 시각화
- 실시간 진행률 표시

### 5. 검증 시나리오 스크립트
- 기능 검증 테스트 케이스
- 성능 벤치마크 스크립트
- 데이터 무결성 검증 로직

## Input Documents

1. **SDD.md** - 시스템 아키텍처, API 스펙, 데이터 모델
2. **DOMAIN_SCHEMA.md** - 레거시 스키마 참조 (기존 테이블 활용)
3. **Wireframe.md** - UI 레이아웃 및 컴포넌트 구조
4. **IA.md** - 페이지 계층 및 네비게이션 구조

## Completion Criteria

### 기능적 완료 기준
- [ ] 통합 검증 실행 및 결과 저장 정상 동작
- [ ] Agent 연동 테스트 자동 실행
- [ ] 성능 메트릭 실시간 수집
- [ ] 검증 결과 대시보드 정상 표시
- [ ] API 응답시간 < 500ms (정상 상황)

### 품질 완료 기준
- [ ] 단위 테스트 커버리지 > 80%
- [ ] API 문서 자동 생성 (Swagger/OpenAPI)
- [ ] 에러 핸들링 및 로깅 구현
- [ ] 검증 데이터 보안 처리 (민감정보 제외)

### 성능 완료 기준
- [ ] 100개 동시 Agent 테스트 지원
- [ ] 검증 결과 조회 시간 < 2초
- [ ] 메모리 사용량 < 1GB (검증 실행 중)

## Constraints

### 기술적 제약사항
1. **레거시 시스템 영향 최소화**
   - 운영 DB에 부하를 주는 대량 조회 금지
   - 검증 데이터는 별도 스키마 사용

2. **성능 제약**
   - 단일 검증 세션 최대 실행시간: 30분
   - 동시 검증 세션: 최대 5개

3. **보안 제약**
   - 검증 로그에 개인정보 포함 금지
   - 관리자 권한 사용자만 검증 실행 가능

### 개발 제약사항
1. **코드 표준**
   - 기존 프로젝트의 코딩 컨벤션 준수
   - 에러 메시지는 한국어로 제공

2. **의존성 제약**
   - 외부 라이브러리 추가 시 보안 검토 필요
   - 라이센스 호환성 확인 필수

3. **배포 제약**
   - 무중단 배포 지원
   - 롤백 시나리오 포함

## 작업 우선순위

1. **1단계 (Core)**: 데이터베이스 스키마 + 기본 API
2. **2단계 (Essential)**: 테스트 오케스트레이터 로직
3. **3단계 (Important)**: 검증 결과 대시보드
4. **4단계 (Nice-to-have)**: 성능 최적화 + 고급 기능

## 커뮤니케이션

- **진행 상황 보고**: 각 단계 완료 시 결과물과 함께 보고
- **이슈 발생 시**: 즉시 Leader Agent에게 에스컬레이션
- **설계 변경 필요 시**: 구현 중단 후 승인 요청