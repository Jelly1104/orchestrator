# Wireframe.md - 오케스트레이터 통합 검증 화면 설계

## 1. 메인 대시보드 (Overview)

```
┌─────────────────────────────────────────────────────────────────────┐
│ HEADER (고정, h=60px)                                                │
├─────────────────────────────────────────────────────────────────────┤
│ [🏠 Logo] 오케스트레이터 통합 검증     [🔔 3] [👤 AI PM] [⚙️ Settings] │
│                                                                     │
│ Phase Navigation:                                                   │
│ [Overview*] [Phase A] [Phase B] [Phase C] [HITL]                   │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ MAIN CONTENT (h=calc(100vh-60px-40px))                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│ ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────────────┐ │
│ │ 전체 진행률      │ │ 현재 Phase      │ │ 예상 완료 시간          │ │
│ │                │ │                │ │                        │ │
│ │   ████████░░   │ │   Phase B      │ │   ⏱️ 25분 남음          │ │
│ │   80% (4/5)    │ │   설계 검증 중  │ │   Started: 14:30       │ │
│ └─────────────────┘ └─────────────────┘ └─────────────────────────┘ │
│                                                                     │
│ ┌───────────────────────────────────────────────────────────────────┐ │
│ │ Phase별 상세 진행 현황                                             │ │
│ ├───────────────────────────────────────────────────────────────────┤ │
│ │                                                                   │ │
│ │ Phase A: 정량적 분석                                [✅ Complete]  │ │
│ │ ├─ SQL 쿼리 생성 (4/4)                             ✅ 100%        │ │
│ │ ├─ 활성 회원 분석                                  ✅ 203K rows   │ │
│ │ ├─ 전문과목 분포                                   ✅ 15 groups   │ │
│ │ └─ 로그인 패턴                                     ✅ 30day data  │ │
│ │                                                                   │ │
│ │ Phase B: 정성적 설계                               [⏳ Running]    │ │
│ │ ├─ IA 설계                                        ✅ Complete     │ │
│ │ ├─ Wireframe 생성                                 ⏳ In Progress │ │
│ │ ├─ SDD 작성                                       ⏸️ Pending     │ │
│ │ └─ HANDOFF 생성                                   ⏸️ Pending     │ │
│ │                                                                   │ │
│ │ Phase C: 코드 구현                                 [⏸️ Pending]    │ │
│ │ ├─ API 엔드포인트                                  ⏸️ Waiting     │ │
│ │ ├─ React 컴포넌트                                  ⏸️ Waiting     │ │
│ │ ├─ 테스트 코드                                     ⏸️ Waiting     │ │
│ │ └─ 빌드/검증                                       ⏸️ Waiting     │ │
│ └───────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────┐ ┌─────────────────────────────────────────────┐ │
│ │ HITL 체크포인트  │ │ 시스템 메트릭                                │ │
│ │                │ │                                            │ │
│ │ ⚠️ 승인 대기: 1  │ │ 🔄 재시도: 0/3                             │ │
│ │ ✅ 승인 완료: 2  │ │ ⏱️ 평균 응답: 2.3초                        │ │
│ │                │ │ 💾 메모리: 450MB/2GB                       │ │
│ │ [상세보기]      │ │ 🔒 보안위반: 0건                           │ │
│ └─────────────────┘ └─────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ FOOTER (h=40px)                                                     │
│ Case ID: case6-orchestrator-validation-20251223 | v1.0.0 | Docs    │
└─────────────────────────────────────────────────────────────────────┘
```

## 2. Phase A: 정량적 분석 화면

```
┌─────────────────────────────────────────────────────────────────────┐
│ Phase A Navigation:                                                 │
│ [SQL Queries*] [Analysis Results] [Data Validation] [Performance]   │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ SQL 쿼리 실행 현황                                                   │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ 1. segment_query.sql                              [✅ Success]  │ │
│ │    활성 회원 세그먼트 조회                                       │ │
│ │    ⏱️ 실행시간: 1.2초 | 📊 결과: 203,884 rows | 💾 15MB        │ │
│ │    SELECT U_KIND, COUNT(*) FROM USERS                          │ │
│ │    WHERE U_ALIVE='Y' GROUP BY U_KIND                           │ │
│ │    [쿼리 전문 보기] [결과 다운로드] [재실행]                    │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ 2. distribution_query.sql                         [✅ Success]  │ │
│ │    전문과목별 분포 분석                                         │ │
│ │    ⏱️ 실행시간: 2.1초 | 📊 결과: 15 groups | 💾 2KB           │ │
│ │    SELECT ud.U_MAJOR_CODE_1, COUNT(*) FROM USER_DETAIL ud      │ │
│ │    JOIN USERS u ON ud.U_ID = u.U_ID...                        │ │
│ │    [쿼리 전문 보기] [결과 다운로드] [재실행]                    │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ 3. login_pattern_query.sql                        [✅ Success]  │ │
│ │    로그인 패턴 분석                                             │ │
│ │    ⏱️ 실행시간: 4.5초 | 📊 결과: 10,000 rows | 💾 8MB         │ │
│ │    SELECT HOUR(LOGIN_DATE), COUNT(*) FROM USER_LOGIN           │ │
│ │    WHERE LOGIN_DATE >= DATE_SUB(NOW(), INTERVAL 30 DAY)        │ │
│ │    LIMIT 10000 [쿼리 전문 보기] [결과 다운로드] [재실행]       │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ 4. insight_generation.sql                         [✅ Success]  │ │
│ │    인사이트 생성을 위한 추가 분석                                │ │
│ │    ⏱️ 실행시간: 0.8초 | 📊 결과: Summary | 💾 1KB            │ │
│ │    -- 활성률, 평균 로그인 등 KPI 계산                          │ │
│ │    [쿼리 전문 보기] [결과 다운로드] [재실행]                    │ │
│ └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ DB 연결 및 제약 조건 모니터링                                        │
├─────────────────────────────────────────────────────────────────────┤
│ 🔗 DB: medigate@222.122.26.242:3306 [Connected]                   │
│ 👤 User: ai_readonly (SELECT only)                                │
│ ⏱️ 타임아웃: 30초 | 📊 행 제한: 10,000 | 💾 메모리: 245MB/2GB      │ │
│ 🔒 보안 상태: 모든 제약 조건 준수 중                                │
└─────────────────────────────────────────────────────────────────────┘
```

## 3. Phase B: 정성적 설계 화면

```
┌─────────────────────────────────────────────────────────────────────┐
│ Phase B Navigation:                                                 │
│ [Design Documents*] [Schema Mapping] [Review Status] [HANDOFF]      │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ 설계 문서 생성 현황                                                  │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ IA.md - 정보 구조 설계                            [✅ Complete] │ │
│ │                                                                │ │
│ │ 📄 생성완료: 8개 섹션, 57개 항목                                │ │
│ │ 📊 계층구조: 5 Level, 네비게이션 32개 경로                      │ │
│ │ ⏱️ 생성시간: 3.2분 | 📝 2,450 words                           │ │
│ │                                                                │ │
│ │ 주요 구조:                                                     │ │
│ │ ├─ 시스템 정보 구조 (5개 메인 섹션)                           │ │
│ │ ├─ 네비게이션 구조 (라우팅 32개)                              │ │
│ │ ├─ 데이터 흐름 구조                                           │ │
│ │ └─ 반응형 레이아웃 (데스크톱/태블릿/모바일)                    │ │
│ │                                                                │ │
│ │ [문서 전문 보기] [다운로드] [검증 리포트]                      │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ Wireframe.md - 화면 설계                          [⏳ Running] │ │
│ │                                                                │ │
│ │ 🔄 생성 중: 메인 대시보드 레이아웃 완료 (1/4)                  │ │
│ │ ⏳ 대기 중: Phase A 화면, Phase B 화면, 모바일 뷰              │ │
│ │ 📐 ASCII 와이어프레임 + 컴포넌트 매핑                          │ │
│ │                                                                │ │
│ │ 예상 완성: 약 5분 후                                           │ │
│ │                                                                │ │
│ │ [진행상황 보기] [임시저장 다운로드]                            │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ SDD.md - 시스템 설계 문서                         [⏸️ Pending]  │ │
│ │                                                                │ │
│ │ ⏸️ Wireframe.md 완료 후 자동 시작 예정                        │ │
│ │                                                                │ │
│ │ 포함될 내용:                                                   │ │
│ │ ├─ 아키텍처 개요                                               │ │
│ │ ├─ 레거시 스키마 매핑 (USERS, USER_DETAIL, USER_LOGIN)         │ │
│ │ ├─ API 설계 (TypeScript)                                      │ │
│ │ ├─ 데이터 모델                                                │ │
│ │ └─ 보안 및 제약사항                                           │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ HANDOFF.md - Sub-agent 지시서                     [⏸️ Pending]  │ │
│ │                                                                │ │
│ │ ⏸️ SDD.md 완료 후 자동 생성                                   │ │
│ │                                                                │ │
│ │ 포함될 내용:                                                   │ │
│ │ ├─ PRD 산출물 체크리스트 매핑                                  │ │
│ │ ├─ Mode: Coding (TypeScript + React)                          │ │
│ │ ├─ Required Outputs (Phase C 산출물)                          │ │
│ │ ├─ Input Documents                                             │ │
│ │ └─ Completion Criteria                                         │ │
│ └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ 레거시 스키마 매핑 검증                                              │
├─────────────────────────────────────────────────────────────────────┤
│ ✅ USERS 테이블 매핑: U_ID, U_KIND, U_ALIVE 확인됨                  │
│ ✅ USER_DETAIL 매핑: U_MAJOR_CODE_1, U_WORK_TYPE_1 확인됨           │
│ ⚠️ USER_LOGIN 매핑: LIMIT 10000 제약 조건 적용 필요                 │
│ ✅ DOMAIN_SCHEMA.md 일치율: 100% (0개 불일치)                       │
└─────────────────────────────────────────────────────────────────────┘
```

## 4. Phase C: 코드 구현 화면

```
┌─────────────────────────────────────────────────────────────────────┐
│ Phase C Navigation:                                                 │
│ [Code Generation*] [Test Results] [Build Status] [Output Files]     │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ 코드 생성 진행 상황                                                  │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ Backend (TypeScript)                              [⏳ Running]  │ │
│ │                                                                │ │
│ │ 📁 backend/src/features/analytics/                             │ │
│ │ ├─ analytics.controller.ts      [✅ Generated] 245 lines       │ │
│ │ ├─ analytics.service.ts         [⏳ Writing...] 68% complete   │ │
│ │ ├─ analytics.repository.ts      [⏸️ Queue] ETA 3min           │ │
│ │ ├─ dto/segment-query.dto.ts     [⏸️ Queue] ETA 4min           │ │
│ │ └─ dto/analytics-response.dto.ts [⏸️ Queue] ETA 5min          │ │
│ │                                                                │ │
│ │ 🧪 tests/                                                     │ │
│ │ └─ analytics.service.test.ts    [⏸️ Queue] ETA 6min           │ │
│ │                                                                │ │
│ │ 📊 진행률: ████████░░ 80% (2/5 files)                         │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ Frontend (React + TypeScript)                     [⏸️ Pending]  │ │
│ │                                                                │ │
│ │ 📁 frontend/src/features/analytics/                            │ │
│ │ ├─ AnalyticsDashboard.tsx       [⏸️ Waiting] Backend 완료 후  │ │
│ │ ├─ SegmentChart.tsx             [⏸️ Waiting] Backend 완료 후  │ │
│ │ ├─ LoginTrendChart.tsx          [⏸️ Waiting] Backend 완료 후  │ │
│ │ ├─ FilterPanel.tsx              [⏸️ Waiting] Backend 완료 후  │ │
│ │ └─ tests/                       [⏸️ Waiting] Backend 완료 후  │ │
│ │                                                                │ │
│ │ 📊 진행률: ░░░░░░░░░░ 0% (0/5 files)                          │ │
│ └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ 실시간 코드 품질 모니터링                                            │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│ ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────────────┐ │
│ │ TypeScript 검증 │ │ 린트 검사        │ │ 테스트 커버리지          │ │
│ │                │ │                │ │                        │ │
│ │ ✅ 타입 체크 통과│ │ ⚠️ 3개 경고      │ │ ⏳ 대기 중              │ │
│ │ 0 errors       │ │ 0 errors       │ │ 목표: ≥90%             │ │
│ │ 0 warnings     │ │ 3 warnings     │ │                        │ │
│ └─────────────────┘ └─────────────────┘ └─────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ 빌드 상태                                        [⏳ Pending]  │ │
│ │                                                                │ │
│ │ ⏸️ Backend 완료 후 시작 예정                                   │ │
│ │                                                                │ │
│ │ 빌드 단계:                                                     │ │
│ │ ├─ TypeScript 컴파일                                          │ │
│ │ ├─ 번들 생성                                                  │ │
│ │ ├─ 테스트 실행                                                │ │
│ │ └─ 산출물 검증                                                │ │
│ └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ Output Validation (보안 검증)                                       │
├─────────────────────────────────────────────────────────────────────┤
│ 🔒 Protected Path 접근 검사: PASS (0건 위반)                        │
│ 📁 파일 생성 경로 검증: PASS (허용된 경로만 사용)                    │
│ 🚫 DELETE/MODIFY 시도: PASS (감지되지 않음)                          │
│ 📋 산출물 체크리스트 준수: 진행 중 (2/3 phase 완료)                  │
└─────────────────────────────────────────────────────────────────────┘
```

## 5. HITL 체크포인트 화면

```
┌─────────────────────────────────────────────────────────────────────┐
│ HITL Navigation:                                                    │
│ [Pending Approvals*] [Review History] [Manual Interventions]       │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ 승인 대기 항목 (1개)                                               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ 🔍 설계 승인 요청                               [⏰ 2분 전 요청] │ │
│ │                                                                │ │
│ │ 요청자: Leader Agent                                           │ │
│ │ 대상: Phase B 설계 문서 (IA + Wireframe + SDD)                │ │
│ │ 우선순위: HIGH                                                 │ │
│ │                                                                │ │
│ │ 검토 항목:                                                     │ │
│ │ ✅ IA 구조 완성도 (8개 섹션)                                   │ │
│ │ ✅ Wireframe 명확성 (4개 화면)                                 │ │
│ │ ✅ SDD 레거시 매핑 (3개 테이블)                                │ │
│ │ ✅ HANDOFF 필수 섹션 (6개)                                     │ │
│ │                                                                │ │
│ │ 자동 검증 결과:                                                │ │
│ │ ✅ 스키마 일치율: 100%                                         │ │
│ │ ✅ 산출물 체크리스트: 100% 매핑됨                              │ │
│ │ ✅ 보안 정책 준수: PASS                                        │ │
│ │                                                                │ │
│ │ [📄 문서 미리보기] [✅ 승인] [❌ 거부] [💬 피드백 요청]         │ │
│ └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ 승인 완료 이력 (2개)                                               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ ✅ 쿼리 검토 승인                               [✅ 15분 전 승인] │ │
│ │                                                                │ │
│ │ 승인자: AI PM (user123)                                        │ │
│ │ 대상: Phase A SQL 쿼리 4개                                     │ │
│ │ 승인 사유: "DOMAIN_SCHEMA 완벽 일치, LIMIT 적용 확인"          │ │
│ │                                                                │ │
│ │ [상세 보기] [승인 문서 다운로드]                               │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ ✅ PRD Gap Check 승인                           [✅ 58분 전 승인] │ │
│ │                                                                │ │
│ │ 승인자: 자동 시스템                                            │ │
│ │ 대상: PRD 완성도 및 유형 분류                                  │ │
│ │ 결과: MIXED 타입, mixed 파이프라인 선택                        │ │
│ │                                                                │ │
│ │ [상세 보기] [로그 다운로드]                                    │ │
│ └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘
```

## 6. 모바일 반응형 레이아웃

```
┌─────────────────────────┐
│ 📱 MOBILE VIEW (≤767px) │
├─────────────────────────┤
│ [☰] 오케스트레이터 [🔔3]│
├─────────────────────────┤
│                         │
│ ┌─────────────────────┐ │
│ │ 🎯 전체 진행률       │ │
│ │                     │ │
│ │ ████████░░ 80%      │ │
│ │ Phase B 실행 중     │ │
│ │ 25분 남음           │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ ⚠️ 알림 (1)          │ │
│ │                     │ │
│ │ 설계 승인 대기       │ │
│ │ 2분 전 요청         │ │
│ │                     │ │
│ │ [상세보기] [처리]   │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 📊 Phase 현황        │ │
│ │                     │ │
│ │ Phase A ✅ 완료      │ │
│ │ Phase B ⏳ 진행중    │ │
│ │ Phase C ⏸️ 대기      │ │
│ │ HITL   ⚠️ 승인요청   │ │
│ │                     │ │
│ │ [전체 보기]         │ │
│ └─────────────────────┘ │
│                         │
├─────────────────────────┤
│ [Overview] [A] [B] [HITL]│ ← Bottom Tab
└─────────────────────────┘
```

## 7. 컴포넌트 매핑 테이블

### 7.1 공통 컴포넌트

| 화면 요소 | React 컴포넌트 | Props | 데이터 소스 |
|-----------|----------------|-------|-------------|
| Header | `<AppHeader>` | `{ user, notifications }` | `useAuth()` |
| Progress Bar | `<ProgressBar>` | `{ value, max, status }` | `useProgress()` |
| Status Badge | `<StatusBadge>` | `{ status, variant }` | Static |
| Navigation Tabs | `<TabNavigation>` | `{ tabs, active }` | Router |
| Phase Card | `<PhaseCard>` | `{ phase, progress, items }` | `usePhase()` |
| Alert Card | `<AlertCard>` | `{ type, message, actions }` | `useAlerts()` |

### 7.2 특화 컴포넌트

| 기능 영역 | React 컴포넌트 | 특징 | 상태 관리 |
|-----------|----------------|------|-----------|
| SQL Query List | `<QueryList>` | 실행 상태, 결과 미리보기 | `useQuery()` |
| Design Document | `<DocumentViewer>` | 마크다운 렌더링, 다운로드 | `useDocument()` |
| Code Generation | `<CodeProgress>` | 실시간 진행률, 파일 트리 | `useCodeGen()` |
| HITL Approval | `<ApprovalCard>` | 승인/거부, 피드백 | `useApproval()` |
| Metric Dashboard | `<MetricsPanel>` | 실시간 차트, KPI | `useMetrics()` |

### 7.3 데이터 흐름

```
[WebSocket] ↔ [Store] ↔ [Custom Hooks] ↔ [Components]
     ↕              ↕           ↕             ↕
[API Server]  [Local State] [State Logic] [UI Rendering]
```

## 8. 상호작용 및 애니메이션

### 8.1 Progress Indicators

```
전체 진행바: 부드러운 증가 애니메이션 (ease-in-out 0.5s)
Phase 카드: 완료 시 확장 → 체크마크 (scale 1.1 → 1.0)
SQL 실행: 펄스 효과 + 회전 스피너
파일 생성: 타이핑 효과 + 파일 아이콘 등장
```

### 8.2 사용자 액션

| 액션 | 트리거 | 피드백 | 지속시간 |
|------|--------|--------|----------|
| 쿼리 재실행 | 버튼 클릭 | 버튼 비활성화 + 스피너 | 실행 완료까지 |
| 문서 다운로드 | 링크 클릭 | Toast 알림 "다운로드 시작" | 3초 |
| 승인/거부 | 버튼 클릭 | 모달 확인창 + 상태 변경 | 즉시 |
| 필터 변경 | 드롭다운 선택 | 데이터 새로고침 애니메이션 | 1초 |

### 8.3 반응형 전환

```
Desktop → Tablet: 사이드바 접기 애니메이션 (slide-left 0.3s)
Tablet → Mobile: Bottom Tab 등장 + Header 압축 (slide-up 0.3s)
Mobile 회전: 레이아웃 재정렬 (flex-direction 변경 0.2s)
```