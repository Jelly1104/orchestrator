# AGENT_ARCHITECTURE.md

> **ë¬¸ì„œ ë²„ì „**: 2.2.1
> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-22
> **ë¬¼ë¦¬ì  ê²½ë¡œ**: `.claude/workflows/AGENT_ARCHITECTURE.md`
> **ë³€ê²½ ì´ë ¥**: ë ˆê±°ì‹œ src/ ê²½ë¡œ ì™„ì „ ì œê±° - ë””ë ‰í† ë¦¬ êµ¬ì¡°ë„ í˜„í–‰í™”
> **ìƒìœ„ ë¬¸ì„œ**: `CLAUDE.md` > **ëŒ€ìƒ Agent**: Orchestrator, Leader, SubAgent, OutputValidator

---

## 0. Agent ë¡œë”© ì„¤ì •

### 0.1 ì„¹ì…˜ë³„ ë¡œë”© ëŒ€ìƒ

| ì„¹ì…˜                         | ëŒ€ìƒ Agent       | í•„ìˆ˜ ì—¬ë¶€ |
| ---------------------------- | ---------------- | --------- |
| ì„¹ì…˜ 1 (ì•„í‚¤í…ì²˜ ê°œìš”)       | Orchestrator     | í•„ìˆ˜      |
| ì„¹ì…˜ 2 (í˜‘ì—… ì‚¬ì´í´)         | ì°¸ì¡°ìš©           | ì„ íƒ      |
| ì„¹ì…˜ 3.1 (Orchestrator ì—­í• ) | Orchestrator     | í•„ìˆ˜      |
| ì„¹ì…˜ 3.2 (Leader ì—­í• )       | Leader           | í•„ìˆ˜      |
| ì„¹ì…˜ 3.3 (SubAgent ì—­í• )     | SubAgent         | í•„ìˆ˜      |
| ì„¹ì…˜ 4 (Multi-LLM Provider)  | Orchestrator     | ì„ íƒ      |
| ì„¹ì…˜ 5 (ë³´ì•ˆ ì•„í‚¤í…ì²˜)       | ëª¨ë“  Agent       | ê¶Œì¥      |
| ì„¹ì…˜ 6 (Handoff í”„ë¡œí† ì½œ)    | Leader, SubAgent | í•„ìˆ˜      |
| ì„¹ì…˜ 7-10 (ì‚¬ìš©ë²• ë“±)        | ì‚¬ìš©ì ì°¸ì¡°ìš©    | -         |

### 0.2 ë¡œë”© ìš°ì„ ìˆœìœ„

**í•„ìˆ˜ ë¡œë”© (ëª¨ë“  ì‹¤í–‰ì—ì„œ)**

- ìì‹ ì˜ ì—­í•  ì •ì˜ ì„¹ì…˜ (3.1 / 3.2 / 3.3)
- Handoff í”„ë¡œí† ì½œ (ì„¹ì…˜ 6) - Leader/SubAgentë§Œ

**ì„ íƒ ë¡œë”© (í•„ìš”ì‹œ)**

- ë³´ì•ˆ ì•„í‚¤í…ì²˜ (ì„¹ì…˜ 5) - ë³´ì•ˆ ê²€ì¦ í•„ìš” ì‹œ
- ì¬ì‹œë„ ì •ì±… (ì„¹ì…˜ 10) - ì—ëŸ¬ ë°œìƒ ì‹œ

### 0.3 Agentë³„ ë¡œë”© ì˜ˆìƒ í† í°

| Agent               | ë¡œë”© ì„¹ì…˜          | ì˜ˆìƒ í† í° |
| ------------------- | ------------------ | --------- |
| **Leader**          | ì„¹ì…˜ 3.2, ì„¹ì…˜ 6   | ~800      |
| **SubAgent**        | ì„¹ì…˜ 3.3, ì„¹ì…˜ 6   | ~600      |
| **Orchestrator**    | ì„¹ì…˜ 1, 3.1, 5, 10 | ~1,200    |
| **OutputValidator** | ì„¹ì…˜ 5.1 Layer 3   | ~300      |

### 0.4 Task ID ë„¤ì´ë° ê·œì¹™

**í˜•ì‹**: `{prefix}-{keyword}-{timestamp}`

| íŒ¨í„´            | ì˜ˆì‹œ                              | ì„¤ëª…                    |
| --------------- | --------------------------------- | ----------------------- |
| Case ë¶„ì„       | `case4-active-user-1766119848270` | Case ë²ˆí˜¸ + í•µì‹¬ í‚¤ì›Œë“œ |
| ì„¤ê³„ ì¼€ì´ìŠ¤     | `recruit-agent-1766031235704`     | ê¸°ëŠ¥ëª…                  |
| í˜¼í•© ì¼€ì´ìŠ¤     | `case5-dormancy-1766037994472`    | Case ë²ˆí˜¸ + í•µì‹¬ í‚¤ì›Œë“œ |
| ê¸°ë³¸ (fallback) | `task-1766113510884`              | í‚¤ì›Œë“œ ì¶”ì¶œ ì‹¤íŒ¨ ì‹œ     |

**í‚¤ì›Œë“œ ìë™ ì¶”ì¶œ** (orchestrator.js `generateFriendlyTaskId`):

```javascript
keywords: [
  { pattern: /ì±„ìš©|recruit|job/i, name: "recruit" },
  { pattern: /íœ´ë©´|dormancy|dormant/i, name: "dormancy" },
  { pattern: /í™œì„±|active|heavy/i, name: "active-user" },
  { pattern: /ë¶„ì„|analysis|analyze/i, name: "analysis" },
  { pattern: /ì„¤ê³„|design/i, name: "design" },
  { pattern: /ì˜ˆì¸¡|predict/i, name: "predict" },
  { pattern: /ì¶”ì²œ|recommend/i, name: "recommend" },
];
```

**Viewer í‘œì‹œ ê·œì¹™** (`formatters.ts`):

- timestamp ì œì™¸í•˜ê³  ì˜ë¯¸ìˆëŠ” ì´ë¦„ë§Œ í‘œì‹œ
- ì˜ˆ: `case5-dormancy-1766037994472` â†’ `case5-dormancy`
- fallback: `task-1766113510884` â†’ `task-510884`

**ì‚°ì¶œë¬¼ ê²½ë¡œ ê·œì¹™** (SYSTEM_MANIFEST v4.1.0 ì¤€ìˆ˜, Flatten êµ¬ì¡° 2025-12-23):

```
docs/cases/{caseId}/               # ì¼€ì´ìŠ¤ ì„¤ê³„ ë¬¸ì„œ (PRD, IA, SDD, Wireframe, HANDOFF)
docs/cases/{caseId}/visuals/       # ì‹œê°í™” ì‚°ì¶œë¬¼ (HTML)
workspace/analysis/{task-id}/      # ë¶„ì„ ê²°ê³¼ (SQL, JSON, ë¦¬í¬íŠ¸)
workspace/features/{feature}/      # í”¼ì²˜ë³„ ì‚°ì¶œë¬¼
backend/src/{feature}/             # ë°±ì—”ë“œ êµ¬í˜„ ì½”ë“œ
frontend/src/{feature}/            # í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ ì½”ë“œ
workspace/logs/{task-id}.json      # ì‹¤í–‰ ë¡œê·¸
```

**caseId ì¶”ì¶œ ê·œì¹™**:
- `case5-dormancy-20251223` â†’ `case5-dormancy` (ë‚ ì§œ 8ìë¦¬ ì œê±°)
- `case5-dormancy-1766037994472` â†’ `case5-dormancy` (íƒ€ì„ìŠ¤íƒ¬í”„ 13ìë¦¬ ì œê±°)

**ê¸ˆì§€ íŒ¨í„´**:

- âŒ `test-1`, `temp` (ì˜ë¯¸ì—†ëŠ” ì´ë¦„)
- âŒ íŠ¹ìˆ˜ë¬¸ì í¬í•¨ (`task@#$%`)

---

## 0.5 ì „ì²´ íŒŒì´í”„ë¼ì¸ í”Œë¡œìš° (HITL í¬í•¨)

> ğŸ”´ ë¹¨ê°„ìƒ‰ ë…¸ë“œ = Human-in-the-Loop ì²´í¬í¬ì¸íŠ¸

```mermaid
graph TD
    A[PRD ì…ë ¥] --> B{PRD Gap Check}
    B -- ë¶ˆì™„ì „ --> C[ğŸ§‘ ì¸ê°„: PRD ë³´ì™„]
    B -- ì™„ì „ --> D[ìë™: ìœ í˜• íŒë³„]

    D --> E{Analysis?}
    E -- Yes --> F[AnalysisAgent]
    E -- No --> G[LeaderAgent Planning]

    F --> H[SQL ì‹¤í–‰]
    H --> I{ê²°ê³¼ ê²€ì¦}
    I -- ì´ìƒ --> J[ğŸ§‘ ì¸ê°„: ì¿¼ë¦¬ ê²€í† ]
    I -- ì •ìƒ --> K[ë¶„ì„ ë¦¬í¬íŠ¸ ìƒì„±]

    G --> L[IA/Wireframe/SDD]
    L --> M[ğŸ§‘ ì¸ê°„: ì„¤ê³„ ìŠ¹ì¸]
    M -- ìŠ¹ì¸ --> N[CodeAgent êµ¬í˜„]
    M -- ìˆ˜ì •ìš”ì²­ --> G

    N --> O[Output Validation]
    O --> P[Leader Review]
    P -- FAIL 3íšŒ --> Q[ğŸ§‘ ì¸ê°„: ìˆ˜ë™ ìˆ˜ì •]
    P -- PASS --> R[ìµœì¢… ì‚°ì¶œë¬¼]

    R --> S{í”„ë¡ íŠ¸ ë°°í¬?}
    S -- Yes --> T[ğŸ§‘ ì¸ê°„: ë°°í¬ ìŠ¹ì¸]
    S -- No --> U[ì™„ë£Œ]

    style C fill:#ffcccc
    style J fill:#ffcccc
    style M fill:#ffcccc
    style Q fill:#ffcccc
    style T fill:#ffcccc
```

### HITL ì²´í¬í¬ì¸íŠ¸ ìš”ì•½

| ì²´í¬í¬ì¸íŠ¸    | ë…¸ë“œ | íŠ¸ë¦¬ê±° ì¡°ê±´                                  | ì¸ê°„ ì•¡ì…˜                    |
| ------------- | ---- | -------------------------------------------- | ---------------------------- |
| **PRD ë³´ì™„**  | C    | PRD Gap Check ë¶ˆì™„ì „ (í•„ìˆ˜ í•­ëª© ëˆ„ë½)        | PRD í•„ìˆ˜ í•­ëª© ë³´ì™„ í›„ ì¬ì‹œì‘ |
| **ì¿¼ë¦¬ ê²€í† ** | J    | SQL ê²°ê³¼ ì´ìƒ (0í–‰, íƒ€ì„ì•„ì›ƒ, ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜) | ì¿¼ë¦¬ ìˆ˜ì • ë˜ëŠ” ìŠ¹ì¸          |
| **ì„¤ê³„ ìŠ¹ì¸** | M    | IA/Wireframe/SDD ìƒì„± ì™„ë£Œ                   | ì„¤ê³„ ê²€í†  ë° ìŠ¹ì¸/ìˆ˜ì •ìš”ì²­   |
| **ìˆ˜ë™ ìˆ˜ì •** | Q    | 3íšŒ ì—°ì† Review FAIL                         | ì§ì ‘ ìˆ˜ì • ë˜ëŠ” ë°©í–¥ ì¡°ì •     |
| **ë°°í¬ ìŠ¹ì¸** | T    | í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ í•„ìš” ì‹œ                      | ìµœì¢… ë°°í¬ ìŠ¹ì¸               |

### ìë™ ì¤‘ë‹¨ íŠ¸ë¦¬ê±°

```yaml
PRD Gap Check:
  - í•„ìˆ˜ 6ê°œ í•­ëª© ì¤‘ ëˆ„ë½ ì¡´ì¬
  - type/pipeline ë¶ˆì¼ì¹˜

SQL ê²°ê³¼ ê²€ì¦:
  - ê²°ê³¼ í–‰ 0ê°œ
  - ì¿¼ë¦¬ íƒ€ì„ì•„ì›ƒ (30ì´ˆ ì´ˆê³¼)
  - DOMAIN_SCHEMA.mdì™€ ì»¬ëŸ¼ ë¶ˆì¼ì¹˜

Output Validation:
  - PRD ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§¤ì¹­ë¥  < 80%
  - ë³´ì•ˆ ê²Œì´íŠ¸ ìœ„ë°˜ (Protected Path ì ‘ê·¼)
  - ì¬ì‹œë„ íšŸìˆ˜ >= 3íšŒ
```

---

## 1. ì•„í‚¤í…ì²˜ ê°œìš”

### 1.1 í•µì‹¬ ì›ì¹™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Orchestrator ì¤‘ì‹¬ ì•„í‚¤í…ì²˜ ì›ì¹™                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1. Orchestrator = ë‹¨ì¼ ì œì–´ì  (Single Control Point)                        â”‚
â”‚     â€¢ ëª¨ë“  ì—ì´ì „íŠ¸ ì‹¤í–‰ì€ Orchestratorë¥¼ í†µí•´ì„œë§Œ ë°œìƒ                           â”‚
â”‚     â€¢ MCP Server ë¶ˆí•„ìš” - ì§ì ‘ API í˜¸ì¶œ ë°©ì‹                                    â”‚
â”‚                                                                             â”‚
â”‚  2. Multi-LLM Provider ì§€ì›                                                  â”‚
â”‚     â€¢ Claude (Primary) â†’ GPT-4 â†’ Gemini (Fallback Chain)                    â”‚
â”‚     â€¢ ì•„í‚¤í…ì²˜ ë³€ê²½ ì—†ì´ LLM êµì²´ ê°€ëŠ¥                                           â”‚
â”‚                                                                             â”‚
â”‚  3. ë³´ì•ˆ ìš°ì„  (Security First)                                               â”‚
â”‚     â€¢ ì…ë ¥ ê²€ì¦ (Path Traversal, Prompt Injection ë°©ì–´)                       â”‚
â”‚     â€¢ ì¶œë ¥ ê²€ì¦ (Protected Path ë³´í˜¸)                                         â”‚
â”‚     â€¢ ê°ì‚¬ ë¡œê¹… (Audit Trail)                                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ì‹œìŠ¤í…œ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Orchestrator-Centric Multi-LLM Architecture (v3.2.0)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¥ INPUT                                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ ì‚¬ìš©ì ìš”ì²­ (ìì—°ì–´)                                                       â”‚
â”‚  â€¢ Lightweight PRD (15ì¤„ ì´ë‚´)                                               â”‚
â”‚  â€¢ ì œì•½ì‚¬í•­ & ì„±ê³µê¸°ì¤€                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›ï¸ ORCHESTRATOR (orchestrator.js)                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                                             â”‚
â”‚  ì—­í• : ì „ì²´ ì›Œí¬í”Œë¡œìš° ì œì–´ + ë³´ì•ˆ ê²€ì¦                                          â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Security Layer (v3.2.0)                                            â”‚    â”‚
â”‚  â”‚  â€¢ validateTaskId()      - Path Traversal ë°©ì§€                       â”‚    â”‚
â”‚  â”‚  â€¢ sanitizeTaskDescription() - ì…ë ¥ ê¸¸ì´ ì œí•œ (10,000ì)               â”‚    â”‚
â”‚  â”‚  â€¢ sanitizePrdContent()  - PRD ê¸¸ì´ ì œí•œ (50,000ì)                   â”‚    â”‚
â”‚  â”‚  â€¢ validateFilePath()    - ê²½ë¡œ ê²€ì¦                                  â”‚    â”‚
â”‚  â”‚  â€¢ checkRateLimit()      - 20íšŒ/ì‹œê°„ ì œí•œ                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Provider Factory                                                   â”‚    â”‚
â”‚  â”‚  â€¢ Anthropic (Claude) â”€â–º Primary                                    â”‚    â”‚
â”‚  â”‚  â€¢ OpenAI (GPT-4)     â”€â–º Fallback #1                                â”‚    â”‚
â”‚  â”‚  â€¢ Google (Gemini)    â”€â–º Fallback #2                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                             â–²
          â”‚ run()                                       â”‚ results
          â–¼                                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§  LEADER AGENT (leader.js)                                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                                             â”‚
â”‚  ì—­í• : Thinking / Planning / Review                                          â”‚
â”‚  â€¢ ì§ì ‘ì ì¸ ì½”ë“œ ì‹¤í–‰ ì±…ì„ ì—†ìŒ                                                 â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Security (Prompt Injection Defense)                                â”‚    â”‚
â”‚  â”‚  â€¢ sanitizeUserInput()   - ìœ„í—˜ íŒ¨í„´ í•„í„°ë§                            â”‚    â”‚
â”‚  â”‚  â€¢ wrapUserContent()     - ê²½ê³„ ë§ˆì»¤ë¡œ ê°ì‹¸ê¸°                          â”‚    â”‚
â”‚  â”‚    â”€â”€â”€USER_INPUT_STARTâ”€â”€â”€                                           â”‚    â”‚
â”‚  â”‚    (user content)                                                   â”‚    â”‚
â”‚  â”‚    â”€â”€â”€USER_INPUT_ENDâ”€â”€â”€                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  [Planning Mode]                    [Review Mode]                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ â€¢ ìš”êµ¬ì‚¬í•­ ë¶„ì„        â”‚           â”‚ â€¢ ì½”ë“œ ë¦¬ë·°            â”‚                 â”‚
â”‚  â”‚ â€¢ IA.md ìƒì„±          â”‚           â”‚ â€¢ QUALITY_GATES ê²€ì¦  â”‚                 â”‚
â”‚  â”‚ â€¢ Wireframe.md ìƒì„±   â”‚           â”‚ â€¢ í”¼ë“œë°± ìƒì„±          â”‚                 â”‚
â”‚  â”‚ â€¢ SDD.md ìƒì„±         â”‚           â”‚ â€¢ PASS/FAIL íŒì •      â”‚                 â”‚
â”‚  â”‚ â€¢ HANDOFF.md ìƒì„±     â”‚           â”‚                      â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                             â”‚
â”‚  Context: CLAUDE.md + AI_Playbook.md + DOMAIN_SCHEMA.md + DOCUMENT_PIPELINE â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                             â–²
          â”‚ ğŸ“‹ HANDOFF.md                               â”‚ ğŸ“¤ Code + Tests
          â–¼                                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ SUB-AGENT (subagent.js)                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                                             â”‚
â”‚  ì—­í• : ì‹¤í–‰ ì—”ì§„ (ì½”ë“œ ìƒì„±)                                                   â”‚
â”‚  â€¢ ìŠ¹ì¸ëœ ê³„íšë§Œ ì‹¤í–‰                                                          â”‚
â”‚  â€¢ ì•„í‚¤í…ì²˜ íŒë‹¨/ê²°ì • ê¶Œí•œ ì—†ìŒ                                                  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Security (Output Validation)                                       â”‚    â”‚
â”‚  â”‚  â€¢ validateOutput()      - ì¶œë ¥ íŒŒì¼ ê²½ë¡œ ê²€ì¦                         â”‚    â”‚
â”‚  â”‚    âœ— Path Traversal (../)                                           â”‚    â”‚
â”‚  â”‚    âœ— Absolute Path (/etc/passwd)                                    â”‚    â”‚
â”‚  â”‚    âœ— Protected Path (.claude/{rules,workflows,context}/*)           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  [Coding Mode]                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  INPUT (from Leader)          OUTPUT (to Leader)                    â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚    â”‚
â”‚  â”‚  â€¢ HANDOFF.md                 â€¢ backend/src/{feature}/*.ts          â”‚    â”‚
â”‚  â”‚  â€¢ IA.md                      â€¢ frontend/src/{feature}/*.tsx        â”‚    â”‚
â”‚  â”‚  â€¢ SDD.md                     â€¢ **/tests/*.test.ts                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  ğŸš¨ ì œì•½ì‚¬í•­ (ê°•ì œ ê·œì¹™):                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ âŒ .claude/{rules, workflows, context}/* ìˆ˜ì • ê¸ˆì§€                    â”‚    â”‚
â”‚  â”‚ âŒ ì•„í‚¤í…ì²˜ ì„ì˜ ë³€ê²½ ê¸ˆì§€                                               â”‚    â”‚
â”‚  â”‚ âŒ ì„œë²„ DB INSERT/UPDATE/DELETE ê¸ˆì§€                                   â”‚    â”‚
â”‚  â”‚ âœ… SELECTë§Œ í—ˆìš© â†’ ë¡œì»¬ì—ì„œ ì‘ì—…                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  Context: CLAUDE.md + DOMAIN_SCHEMA.md + TDD_WORKFLOW.md + CODE_STYLE.md    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. í˜‘ì—… ì‚¬ì´í´ (Orchestrator ìë™í™”)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ ìë™í™”ëœ í˜‘ì—… ì‚¬ì´í´                                                       â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚  â”‚ 1. ì…ë ¥    â”‚ â”€â”€â”€ ì‚¬ìš©ì ê°œì… (1íšŒë§Œ)                                        â”‚
â”‚  â”‚ (User)     â”‚     Task Description + PRD (optional)                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â–¼                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2. ê³„íš    â”‚ â”€â”€â–º â”‚ 3. êµ¬í˜„    â”‚ â”€â”€â–º â”‚ 3.5 Output  â”‚ â”€â”€â–º â”‚ 4. ê²€ì¦    â”‚ â”€â–ºâ”‚ 5. ì™„ë£Œ    â”‚ â”‚
â”‚  â”‚ (Leader)   â”‚     â”‚ (Sub)      â”‚     â”‚ Validation  â”‚     â”‚ (Leader)   â”‚  â”‚            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚                 â”‚                   â”‚                   â”‚                        â”‚
â”‚        â–¼                 â–¼                   â–¼                   â–¼                        â”‚
â”‚   IA.md         backend/src/*.ts     PRD ì²´í¬ë¦¬ìŠ¤íŠ¸       PASS? â”€â”€â”¬â”€â”€ YES â†’ ì™„ë£Œ          â”‚
â”‚   Wireframe.md  frontend/src/*.tsx   6/6 ë§¤ì¹­ í™•ì¸              â”‚                        â”‚
â”‚   SDD.md        **/tests/*.ts        (3ë‹¨ê³„ ë§¤ì¹­)                â””â”€â”€ NO â†’ ì¬ì‹œë„ (ìµœëŒ€ 5íšŒ)â”‚
â”‚   HANDOFF.md                                                                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ì—­í•  ì •ì˜

### 3.1 Orchestrator (orchestrator.js)

| í•­ëª©     | ë‚´ìš©                                                |
| -------- | --------------------------------------------------- |
| **ì—­í• ** | ì „ì²´ ì œì–´ + ë³´ì•ˆ ê²Œì´íŠ¸ì›¨ì´                         |
| **ë‹´ë‹¹** | ì…ë ¥ ê²€ì¦, ì—ì´ì „íŠ¸ ì‹¤í–‰, ì¬ì‹œë„ ê´€ë¦¬, ë¡œê·¸ ì €ì¥    |
| **ë³´ì•ˆ** | Rate Limiting, Path Traversal ë°©ì§€, ì…ë ¥ ìƒˆë‹ˆíƒ€ì´ì§• |

### 3.2 Leader Agent (leader.js)

| í•­ëª©     | ë‚´ìš©                                                     |
| -------- | -------------------------------------------------------- |
| **ì—­í• ** | ì„¤ê³„ì + ê²€ì¦ì                                          |
| **Mode** | Planning Mode, Review Mode                               |
| **ë‹´ë‹¹** | IA/Wireframe/SDD/HANDOFF ìƒì„±, ì½”ë“œ ë¦¬ë·°, PASS/FAIL íŒì • |
| **ë³´ì•ˆ** | Prompt Injection ë°©ì–´ (wrapUserContent)                  |
| **ê¶Œí•œ** | `.claude/project/*` ìˆ˜ì • ê°€ëŠ¥                            |

### 3.3 Sub-agent (subagent.js)

| í•­ëª©     | ë‚´ìš©                                                           |
| -------- | -------------------------------------------------------------- |
| **ì—­í• ** | êµ¬í˜„ì                                                         |
| **Mode** | Coding Mode                                                    |
| **ë‹´ë‹¹** | ì½”ë“œ ì‘ì„±, í…ŒìŠ¤íŠ¸ ì‘ì„±                                         |
| **ë³´ì•ˆ** | Output Validation (Protected Path ë³´í˜¸)                        |
| **ê¶Œí•œ** | `backend/src/*`, `frontend/src/*`, `mcp-server/*` ìˆ˜ì • ê°€ëŠ¥    |
| **ì œì•½** | `.claude/{rules, workflows, context}/*`, `orchestrator/` ìˆ˜ì • ê¸ˆì§€ |

---

## 4. Multi-LLM Provider íŒ¨í„´

### 4.1 Provider êµ¬ì¡°

```
orchestrator/providers/
â”œâ”€â”€ base.js          # ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ anthropic.js     # Claude API (Primary)
â”œâ”€â”€ openai.js        # GPT-4 API (Fallback #1)
â”œâ”€â”€ gemini.js        # Gemini API (Fallback #2)
â”œâ”€â”€ factory.js       # Provider Factory + Fallback Chain
â””â”€â”€ index.js         # í†µí•© ë‚´ë³´ë‚´ê¸°
```

### 4.2 Fallback Chain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ Provider Fallback Chain                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     FAIL     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     FAIL     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚   Claude     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚    GPT-4     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚ Gemini  â”‚ â”‚
â”‚    â”‚  (Primary)   â”‚              â”‚ (Fallback 1) â”‚              â”‚ (FB 2)  â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                             â”‚                           â”‚      â”‚
â”‚           â–¼                             â–¼                           â–¼      â”‚
â”‚        SUCCESS                       SUCCESS                     SUCCESS   â”‚
â”‚                                                                             â”‚
â”‚    í™˜ê²½ë³€ìˆ˜:                                                                  â”‚
â”‚    â€¢ ANTHROPIC_API_KEY (Claude)                                             â”‚
â”‚    â€¢ OPENAI_API_KEY (GPT-4)                                                 â”‚
â”‚    â€¢ GOOGLE_API_KEY (Gemini)                                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Provider ì„¤ì •

```javascript
// orchestrator.js ìƒì„±ì
const orchestrator = new Orchestrator({
  provider: "anthropic", // Primary provider
  fallbackOrder: ["anthropic", "openai", "gemini"],
  useFallback: true, // Fallback í™œì„±í™”
  providerConfig: {
    anthropic: { model: "claude-sonnet-4-20250514" },
    openai: { model: "gpt-4-turbo-preview" },
    gemini: { model: "gemini-pro" },
  },
});
```

---

## 5. ë³´ì•ˆ ì•„í‚¤í…ì²˜ (v3.2.0)

### 5.1 ë³´ì•ˆ ê³„ì¸µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”’ Security Layers                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Layer 1: Input Validation (Orchestrator)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ validateTaskId()     : ../../../ ì°¨ë‹¨, íŠ¹ìˆ˜ë¬¸ì ì œí•œ                    â”‚  â”‚
â”‚  â”‚ â€¢ sanitizeTaskDescription() : 10,000ì ì œí•œ                             â”‚  â”‚
â”‚  â”‚ â€¢ sanitizePrdContent() : 50,000ì ì œí•œ                                  â”‚  â”‚
â”‚  â”‚ â€¢ validateFilePath()   : projectRoot ì™¸ë¶€ ê²½ë¡œ ì°¨ë‹¨                      â”‚  â”‚
â”‚  â”‚ â€¢ checkRateLimit()     : 20íšŒ/ì‹œê°„ ì œí•œ                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  Layer 2: Prompt Injection Defense (Leader)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ DANGEROUS_PATTERNS í•„í„°ë§:                                            â”‚  â”‚
â”‚  â”‚   - ignore previous instructions                                       â”‚  â”‚
â”‚  â”‚   - disregard all rules                                                â”‚  â”‚
â”‚  â”‚   - you are now                                                        â”‚  â”‚
â”‚  â”‚   - system prompt                                                      â”‚  â”‚
â”‚  â”‚ â€¢ wrapUserContent(): ê²½ê³„ ë§ˆì»¤ë¡œ ì‚¬ìš©ì ì…ë ¥ ê²©ë¦¬                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  Layer 3: Output Validation (Sub-agent)                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Path Traversal ê±°ë¶€ (../)                                            â”‚  â”‚
â”‚  â”‚ â€¢ Absolute Path ê±°ë¶€ (/etc/passwd)                                     â”‚  â”‚
â”‚  â”‚ â€¢ Protected Path ê±°ë¶€ (.claude/rules/*, .claude/workflows/*)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  Layer 4: Audit & Integrity (Utils)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ AuditLogger: ë³´ì•ˆ ì´ë²¤íŠ¸ ì¶”ì , ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹                           â”‚  â”‚
â”‚  â”‚ â€¢ RulebookValidator: .claude/rules/*, workflows/* SHA256 í•´ì‹œ ê²€ì¦   â”‚  â”‚
â”‚  â”‚ â€¢ HandoffValidator: HANDOFF í”„ë¡œí† ì½œ ìŠ¤í‚¤ë§ˆ + ë³´ì•ˆ ê²€ì¦                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ë³´ì•ˆ ìœ í‹¸ë¦¬í‹°

```
orchestrator/utils/
â”œâ”€â”€ audit-logger.js       # ê°ì‚¬ ë¡œê¹… (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹)
â”œâ”€â”€ rulebook-validator.js # ë£°ë¶ í•´ì‹œ ë¬´ê²°ì„± ê²€ì¦
â”œâ”€â”€ handoff-validator.js  # HANDOFF í”„ë¡œí† ì½œ ê²€ì¦
â””â”€â”€ index.js              # í†µí•© ë‚´ë³´ë‚´ê¸°
```

| ìœ í‹¸ë¦¬í‹°              | ì—­í•                                                    |
| --------------------- | ------------------------------------------------------ |
| **AuditLogger**       | ë³´ì•ˆ ì´ë²¤íŠ¸ ê¸°ë¡, API í‚¤/ì´ë©”ì¼ ë§ˆìŠ¤í‚¹                 |
| **RulebookValidator** | ë£°ë¶ í´ë”(`rules`, `workflows`, `context`) ë¬´ê²°ì„± ê²€ì¦ |
| **HandoffValidator**  | HANDOFF í•„ìˆ˜ ì„¹ì…˜ í™•ì¸, ì•…ì˜ì  ì§€ì‹œ í•„í„°ë§             |

---

## 6. Handoff í”„ë¡œí† ì½œ

### 6.1 Leader â†’ Sub-agent (HANDOFF.md)

```markdown
## Mode

Coding

## Input

- docs/task-1/IA.md
- docs/task-1/SDD.md
- DOMAIN_SCHEMA.md

## Output

- backend/src/features/login/index.ts
- backend/tests/login.test.ts

## Constraints

- TypeScript í•„ìˆ˜
- TDD ë°©ì‹
- DOMAIN_SCHEMA.md ì»¬ëŸ¼ëª… ì¤€ìˆ˜

## CompletionCriteria

- ë¹Œë“œ ì„±ê³µ
- í…ŒìŠ¤íŠ¸ PASS
```

### 6.2 Sub-agent â†’ Leader (ì™„ë£Œ ë³´ê³ )

```markdown
## ì™„ë£Œ ë³´ê³ : login-feature

### ìƒì„±ëœ íŒŒì¼

- backend/src/features/login/index.ts
- backend/tests/login.test.ts

### ì‹¤í–‰ ê²°ê³¼

- í…ŒìŠ¤íŠ¸: PASS (5/5)
- íƒ€ì…ì²´í¬: PASS

### ì´ìŠˆ

- ì—†ìŒ
```

### 6.3 HandoffValidator ê²€ì¦ í•­ëª©

| ê²€ì¦          | ë‚´ìš©                                          |
| ------------- | --------------------------------------------- |
| **í•„ìˆ˜ ì„¹ì…˜** | Mode, Input, Output, Constraints              |
| **Mode ê°’**   | coding, review, test, refactor, debug ì¤‘ í•˜ë‚˜ |
| **ë³´ì•ˆ íŒ¨í„´** | "ignore previous", "bypass security" ë“± ì°¨ë‹¨  |

---

## 7. íŒŒì¼ êµ¬ì¡°

```
Medi-Notion/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ rules/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ”´ READ ONLY (Constraint Layer)
â”‚   â”‚   â”œâ”€â”€ CODE_STYLE.md
â”‚   â”‚   â”œâ”€â”€ DOMAIN_SCHEMA.md
â”‚   â”‚   â”œâ”€â”€ QUALITY_GATES.md
â”‚   â”‚   â”œâ”€â”€ DB_ACCESS_POLICY.md
â”‚   â”‚   â””â”€â”€ VALIDATION_GUIDE.md
â”‚   â”‚
â”‚   â”œâ”€â”€ workflows/ â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ”´ READ ONLY (Process Layer)
â”‚   â”‚   â”œâ”€â”€ AGENT_ARCHITECTURE.md  â† í˜„ì¬ ë¬¸ì„œ
â”‚   â”‚   â”œâ”€â”€ DOCUMENT_PIPELINE.md
â”‚   â”‚   â”œâ”€â”€ SYSTEM_MANIFEST.md
â”‚   â”‚   â””â”€â”€ PRD_GUIDE.md
â”‚   â”‚
â”‚   â”œâ”€â”€ context/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ”´ READ ONLY (Philosophy Layer)
â”‚   â”‚   â”œâ”€â”€ AI_Playbook.md
â”‚   â”‚   â””â”€â”€ AI_CONTEXT.md
â”‚   â”‚
â”‚   â”œâ”€â”€ project/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸŸ¢ WRITABLE (Leaderë§Œ)
â”‚   â”‚   â”œâ”€â”€ PRD.md
â”‚   â”‚   â””â”€â”€ PROJECT_STACK.md
â”‚   â”‚
â”‚   â””â”€â”€ state/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸŸ¢ ìë™ ì—…ë°ì´íŠ¸
â”‚       â””â”€â”€ handoff-status.json
â”‚
â”œâ”€â”€ orchestrator/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ›ï¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”œâ”€â”€ orchestrator.js      # ë©”ì¸ ì œì–´
â”‚   â”œâ”€â”€ index.js             # CLI ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”œâ”€â”€ leader.js        # Leader Agent
â”‚   â”‚   â”œâ”€â”€ subagent.js      # Sub-agent (Claude Native)
â”‚   â”‚   â”œâ”€â”€ prd-analyzer.js  # PRD Gap Check
â”‚   â”‚   â””â”€â”€ output-validator.js # ì‚°ì¶œë¬¼ ê²€ì¦
â”‚   â”‚
â”‚   â”œâ”€â”€ providers/           # Multi-LLM Provider
â”‚   â”‚   â”œâ”€â”€ base.js
â”‚   â”‚   â”œâ”€â”€ anthropic.js
â”‚   â”‚   â”œâ”€â”€ openai.js
â”‚   â”‚   â”œâ”€â”€ gemini.js
â”‚   â”‚   â”œâ”€â”€ factory.js
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/               # ë³´ì•ˆ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ audit-logger.js
â”‚   â”‚   â”œâ”€â”€ rulebook-validator.js
â”‚   â”‚   â”œâ”€â”€ handoff-validator.js
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚
â”‚   â”œâ”€â”€ viewer/              # ê²°ê³¼ ë·°ì–´ (v3.3.0)
â”‚   â”‚   â””â”€â”€ server.js        # Express ì„œë²„ (localhost:3000)
â”‚   â”‚
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â””â”€â”€ security.test.js
â”‚   â”‚
â”‚   â””â”€â”€ logs/                # ì‹¤í–‰ ë¡œê·¸
â”‚       â””â”€â”€ audit/
â”‚
â”œâ”€â”€ docs/<task-id>/          # ì„¤ê³„ ë¬¸ì„œ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ IA.md
â”‚   â”œâ”€â”€ Wireframe.md
â”‚   â”œâ”€â”€ SDD.md
â”‚   â””â”€â”€ HANDOFF.md
â”‚
â”œâ”€â”€ backend/src/             # ë°±ì—”ë“œ API (Sub-agent ì‘ì—… ì˜ì—­)
â”‚   â””â”€â”€ {feature}/
â”‚
â””â”€â”€ frontend/src/            # í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸ (Sub-agent ì‘ì—… ì˜ì—­)
    â””â”€â”€ features/{feature}/
```

---

## 8. ì‚¬ìš©ë²•

### 8.1 ê¸°ë³¸ ì‹¤í–‰

```bash
# ê¸°ë³¸ ì‚¬ìš©
node orchestrator/index.js "ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„"

# PRD ê¸°ë°˜ êµ¬í˜„
node orchestrator/index.js --prd docs/PRD.md "ê¸°ëŠ¥ êµ¬í˜„"

# Dry-run (íŒŒì¼ ì €ì¥ ì—†ì´)
node orchestrator/index.js --no-save "í…ŒìŠ¤íŠ¸ ì‘ì—…"
```

### 8.2 ì˜µì…˜

| ì˜µì…˜                | ì„¤ëª…             | ê¸°ë³¸ê°’             |
| ------------------- | ---------------- | ------------------ |
| `--prd <path>`      | PRD íŒŒì¼ ê²½ë¡œ    | -                  |
| `--task-id <id>`    | ì‘ì—… ID ì§€ì •     | `task-{timestamp}` |
| `--no-save`         | íŒŒì¼ ì €ì¥ ì•ˆ í•¨  | false              |
| `--max-retries <n>` | ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ | 3 (ìƒí•œ 5)         |

### 8.3 í™˜ê²½ ì„¤ì •

```bash
# orchestrator/.env
ANTHROPIC_API_KEY="sk-ant-..."
OPENAI_API_KEY="sk-..."           # Optional (Fallback)
GOOGLE_API_KEY="..."              # Optional (Fallback)

ANTHROPIC_MODEL="claude-sonnet-4-20250514"
MAX_RETRIES=3
```

---

## 9. ë©”íŠ¸ë¦­ ì¶”ì 

OrchestratorëŠ” ë‹¤ìŒ ë©”íŠ¸ë¦­ì„ ìë™ ì¶”ì í•©ë‹ˆë‹¤:

| ë©”íŠ¸ë¦­               | ì„¤ëª…                                     |
| -------------------- | ---------------------------------------- |
| **ì´ ì†Œìš” ì‹œê°„**     | ì „ì²´ ì‘ì—… ì™„ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„             |
| **ë‹¨ê³„ë³„ ì†Œìš” ì‹œê°„** | Planning, Coding, Review ê° ë‹¨ê³„         |
| **í† í° ì‚¬ìš©ëŸ‰**      | Leader/Sub-agent ì…ë ¥/ì¶œë ¥ í† í°          |
| **ì¬ì‹œë„ íšŸìˆ˜**      | Review FAILë¡œ ì¸í•œ ì¬ì‹œë„                |
| **Provider ì‚¬ìš©**    | ì–´ë–¤ LLM Providerê°€ ì‚¬ìš©ë˜ì—ˆëŠ”ì§€         |
| **ë³´ì•ˆ ì´ë²¤íŠ¸**      | Path Traversal, Prompt Injection ì‹œë„ ë“± |

ë¡œê·¸ ì¶œë ¥:

```
orchestrator/logs/<task-id>.json       # ì‹¤í–‰ ë©”íŠ¸ë¦­
orchestrator/logs/audit/audit-*.jsonl  # ë³´ì•ˆ ê°ì‚¬ ë¡œê·¸
```

---

## 10. ì¬ì‹œë„ ì •ì±…

| ìƒí™©                   | ë™ì‘                        |
| ---------------------- | --------------------------- |
| Review PASS            | ì‘ì—… ì™„ë£Œ                   |
| Review FAIL (1~4íšŒ)    | í”¼ë“œë°± ë°˜ì˜ í›„ ì¬ì‹œë„       |
| Review FAIL (5íšŒ ì´ˆê³¼) | ì‘ì—… ì¤‘ë‹¨, ì‚¬ìš©ì ê°œì… ìš”ì²­ |
| API ì—ëŸ¬               | Fallback Provider ì‹œë„      |
| ëª¨ë“  Provider ì‹¤íŒ¨     | ì—ëŸ¬ ë¡œê·¸ ê¸°ë¡, ì‘ì—… ì¤‘ë‹¨   |

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

| ë¬¸ì„œ                     | ì—­í•                      |
| ------------------------ | ------------------------ |
| `CLAUDE.md`              | íŒ€ í—Œë²•, Safety Rules    |
| `QUALITY_GATES.md`       | Leaderì˜ ê²€ì¦ ê¸°ì¤€       |
| `DOMAIN_SCHEMA.md`       | ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ      |
| `orchestrator/README.md` | Orchestrator ìƒì„¸ ê°€ì´ë“œ |

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë²„ì „  | ë‚ ì§œ       | ë³€ê²½ ë‚´ìš©                                                                      |
| ----- | ---------- | ------------------------------------------------------------------------------ |
| 2.0.0 | 2025-12-19 | Agent ë¡œë”© ì„¤ì • ì„¹ì…˜ ì¶”ê°€ (ì„¹ì…˜ 0), ì„¹ì…˜ë³„ ì„ íƒì  ë¡œë”© ì „ëµ                    |
| 1.8.0 | 2025-12-17 | Output Validation â†’ Review ì—°ë™, 3ë‹¨ê³„ PRD ë§¤ì¹­, CTE íƒì§€ ê°œì„ , ê²°ê³¼ ë·°ì–´ ì¶”ê°€ |
| 1.7.0 | 2025-12-17 | MCP ì œê±°, Orchestrator ì¤‘ì‹¬ ì•„í‚¤í…ì²˜, Multi-LLM Provider, ë³´ì•ˆ v3.2.0          |
| 1.6.0 | 2025-12-17 | (ë°±ì—…: AGENT_ARCHITECTURE_v1.6.0.md)                                           |
| 1.2.0 | 2025-12-17 | Orchestrator ì„¹ì…˜ ì¶”ê°€                                                         |

---

**END OF AGENT_ARCHITECTURE.md**
