# 06-Architecture TO-BE

> **í†µí•© ëŒ€ìƒ**: AGENT_ARCHITECTURE.md 1ì¢…
> **í†µí•© ê²°ê³¼**: êµ¬ì¡° ìµœì í™” (ë¶„ë¦¬ ë¡œë”© ì „ëµ)
> **ì‘ì„±ì¼**: 2025-12-19

---

## ğŸ“Š í†µí•© ê²°ê³¼

| í•­ëª© | AS-IS | TO-BE |
|------|-------|-------|
| ë¬¸ì„œ ìˆ˜ | 1ì¢… | 1ì¢… (êµ¬ì¡° ìœ ì§€) |
| ì˜ˆìƒ í† í° | ~4,500 | ~4,500 (ì „ì²´) / ~800 (ì„¹ì…˜ë³„) |
| ë¡œë”© Agent | âŒ ì—†ìŒ | âœ… ì„¹ì…˜ë³„ ì„ íƒì  ë¡œë”© |

---

## ğŸ¯ ë¡œë”© ì „ëµ

<!--
[ë³€ê²½ ì‚¬ìœ ]
AGENT_ARCHITECTURE.mdëŠ” 4,500 í† í°ìœ¼ë¡œ ëŒ€ìš©ëŸ‰.
ì „ì²´ ë¡œë”© ëŒ€ì‹  Agentë³„ë¡œ í•„ìš”í•œ ì„¹ì…˜ë§Œ ì„ íƒì  ë¡œë”©í•˜ëŠ” ì „ëµ ì±„íƒ.
-->

### Agentë³„ ë¡œë”© ì„¹ì…˜

| Agent | ë¡œë”© ì„¹ì…˜ | ì˜ˆìƒ í† í° |
|-------|----------|----------|
| **Leader** | ì„¹ì…˜ 3.2 (ì—­í• ), ì„¹ì…˜ 6 (Handoff) | ~800 |
| **SubAgent** | ì„¹ì…˜ 3.3 (ì—­í• ), ì„¹ì…˜ 6 (Handoff) | ~600 |
| **Orchestrator** | ì„¹ì…˜ 1 (ê°œìš”), ì„¹ì…˜ 5 (ë³´ì•ˆ), ì„¹ì…˜ 10 (ì¬ì‹œë„) | ~1,200 |
| **OutputValidator** | ì„¹ì…˜ 5.1 Layer 3 (Output Validation) | ~300 |

### ë¡œë”© ì‹œì 

| Agent | ë¡œë”© ì‹œì  |
|-------|----------|
| **Leader** | Planning/Review Mode ì§„ì… ì‹œ |
| **SubAgent** | Coding Mode ì§„ì… ì‹œ |
| **Orchestrator** | ì´ˆê¸°í™” ì‹œ |
| **OutputValidator** | ê²€ì¦ ì‹¤í–‰ ì‹œ |

---

## ğŸ“„ AGENT_ARCHITECTURE.md (ê°œì„ ì•ˆ)

<!--
[ë³€ê²½ ë°©í–¥]
- ë¬¸ì„œ êµ¬ì¡°ëŠ” ìœ ì§€ (ì´ë¯¸ ì˜ ì •ë¦¬ë¨)
- Agent ë¡œë”© ì„¤ì • ì„¹ì…˜ ì¶”ê°€
- ì„¹ì…˜ë³„ ë…ë¦½ì„± ê°•í™” (ë‹¤ë¥¸ ì„¹ì…˜ ì°¸ì¡° ìµœì†Œí™”)
-->

```
/Users/m2-mini/Desktop/eunah/Medi-Notion/.claude/global/AGENT_ARCHITECTURE.md
```

---

# AGENT_ARCHITECTURE.md (ê°œì„ ì•ˆ)

> **ë¬¸ì„œ ë²„ì „**: 2.0.0
> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-19
> **ìƒìœ„ ë¬¸ì„œ**: CLAUDE.md
> **ëŒ€ìƒ Agent**: Orchestrator, Leader, SubAgent, OutputValidator

<!--
[v2.0.0 ì£¼ìš” ë³€ê²½]
1. Agent ë¡œë”© ì„¤ì • ì„¹ì…˜ ì¶”ê°€ (ì‹ ê·œ ì„¹ì…˜ 0)
2. ì„¹ì…˜ë³„ ë…ë¦½ì„± ê°•í™”
3. ê° ì„¹ì…˜ì— ë¡œë”© ëŒ€ìƒ Agent ëª…ì‹œ
-->

---

## 0. Agent ë¡œë”© ì„¤ì •

<!--
[ì‹ ê·œ ì„¹ì…˜]
- ì´ìœ : ì–´ë–¤ Agentê°€ ì–´ë–¤ ì„¹ì…˜ì„ ë¡œë”©í•´ì•¼ í•˜ëŠ”ì§€ ëª…ì‹œ
- í† í° ì ˆì•½ì„ ìœ„í•œ ì„ íƒì  ë¡œë”© ê°€ì´ë“œ
-->

### 0.1 ì„¹ì…˜ë³„ ë¡œë”© ëŒ€ìƒ

| ì„¹ì…˜ | ëŒ€ìƒ Agent | í•„ìˆ˜ ì—¬ë¶€ |
|------|-----------|----------|
| ì„¹ì…˜ 1 (ì•„í‚¤í…ì²˜ ê°œìš”) | Orchestrator | í•„ìˆ˜ |
| ì„¹ì…˜ 2 (í˜‘ì—… ì‚¬ì´í´) | ì°¸ì¡°ìš© | ì„ íƒ |
| ì„¹ì…˜ 3.1 (Orchestrator ì—­í• ) | Orchestrator | í•„ìˆ˜ |
| ì„¹ì…˜ 3.2 (Leader ì—­í• ) | Leader | í•„ìˆ˜ |
| ì„¹ì…˜ 3.3 (SubAgent ì—­í• ) | SubAgent | í•„ìˆ˜ |
| ì„¹ì…˜ 4 (Multi-LLM Provider) | Orchestrator | ì„ íƒ |
| ì„¹ì…˜ 5 (ë³´ì•ˆ ì•„í‚¤í…ì²˜) | ëª¨ë“  Agent | ê¶Œì¥ |
| ì„¹ì…˜ 6 (Handoff í”„ë¡œí† ì½œ) | Leader, SubAgent | í•„ìˆ˜ |
| ì„¹ì…˜ 7-10 (ì‚¬ìš©ë²• ë“±) | ì‚¬ìš©ì ì°¸ì¡°ìš© | - |

### 0.2 ë¡œë”© ìš°ì„ ìˆœìœ„

**í•„ìˆ˜ ë¡œë”© (ëª¨ë“  ì‹¤í–‰ì—ì„œ)**
- ìì‹ ì˜ ì—­í•  ì •ì˜ ì„¹ì…˜ (3.1 / 3.2 / 3.3)
- Handoff í”„ë¡œí† ì½œ (ì„¹ì…˜ 6) - Leader/SubAgentë§Œ

**ì„ íƒ ë¡œë”© (í•„ìš”ì‹œ)**
- ë³´ì•ˆ ì•„í‚¤í…ì²˜ (ì„¹ì…˜ 5) - ë³´ì•ˆ ê²€ì¦ í•„ìš” ì‹œ
- ì¬ì‹œë„ ì •ì±… (ì„¹ì…˜ 10) - ì—ëŸ¬ ë°œìƒ ì‹œ

---

## 1. ì•„í‚¤í…ì²˜ ê°œìš”

<!--
[êµ¬ì¡° ìœ ì§€]
í•µì‹¬ ì›ì¹™ê³¼ ì‹œìŠ¤í…œ ë‹¤ì´ì–´ê·¸ë¨ì€ ê¸°ì¡´ ìœ ì§€.
Orchestratorê°€ ì´ˆê¸°í™” ì‹œ ì´ ì„¹ì…˜ì„ ë¡œë”©í•˜ì—¬ ì „ì²´ êµ¬ì¡° ì´í•´.
-->

**ë¡œë”© ëŒ€ìƒ**: Orchestrator (ì´ˆê¸°í™” ì‹œ)

### 1.1 í•µì‹¬ ì›ì¹™

| ì›ì¹™ | ì„¤ëª… |
|------|------|
| ë‹¨ì¼ ì œì–´ì  | ëª¨ë“  Agent ì‹¤í–‰ì€ Orchestratorë¥¼ í†µí•´ì„œë§Œ ë°œìƒ |
| Multi-LLM | Claude â†’ GPT-4 â†’ Gemini Fallback Chain |
| ë³´ì•ˆ ìš°ì„  | ì…ë ¥ ê²€ì¦, ì¶œë ¥ ê²€ì¦, ê°ì‚¬ ë¡œê¹… |

### 1.2 ì‹œìŠ¤í…œ íë¦„

```
ì‚¬ìš©ì ìš”ì²­
    â†“
[Orchestrator] - ì…ë ¥ ê²€ì¦, ë³´ì•ˆ ì²´í¬
    â†“
[Leader Agent] - Planning/Review Mode
    â†“ (HANDOFF.md)
[SubAgent] - Coding Mode
    â†“ (Code + Tests)
[OutputValidator] - PRD ë§¤ì¹­ ê²€ì¦
    â†“
[Leader Agent] - Review, PASS/FAIL íŒì •
    â†“
ì™„ë£Œ ë˜ëŠ” ì¬ì‹œë„
```

---

## 2. í˜‘ì—… ì‚¬ì´í´

**ë¡œë”© ëŒ€ìƒ**: ì°¸ì¡°ìš© (ì„ íƒì  ë¡œë”©)

<!--
[êµ¬ì¡° ìœ ì§€]
í˜‘ì—… ì‚¬ì´í´ ë‹¤ì´ì–´ê·¸ë¨ì€ ì‚¬ìš©ì/ê°œë°œì ì°¸ì¡°ìš©.
Agentê°€ ë°˜ë“œì‹œ ë¡œë”©í•  í•„ìš” ì—†ìŒ.
-->

ì‚¬ìš©ì ì…ë ¥ â†’ ê³„íš(Leader) â†’ êµ¬í˜„(Sub) â†’ ê²€ì¦(Validator) â†’ ë¦¬ë·°(Leader) â†’ ì™„ë£Œ

ê° ë‹¨ê³„ëŠ” Orchestratorê°€ ì œì–´í•˜ë©°, ì‹¤íŒ¨ ì‹œ ìµœëŒ€ 5íšŒ ì¬ì‹œë„í•©ë‹ˆë‹¤.

---

## 3. ì—­í•  ì •ì˜

<!--
[êµ¬ì¡° ê°œì„ ]
ê° ì—­í•  ì •ì˜ë¥¼ ë…ë¦½ ì„¹ì…˜ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ Agentê°€ ìì‹ ì˜ ì„¹ì…˜ë§Œ ë¡œë”© ê°€ëŠ¥í•˜ë„ë¡ í•¨.
-->

### 3.1 Orchestrator (orchestrator.js)

**ë¡œë”© ëŒ€ìƒ**: Orchestrator

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì—­í•  | ì „ì²´ ì œì–´ + ë³´ì•ˆ ê²Œì´íŠ¸ì›¨ì´ |
| ë‹´ë‹¹ | ì…ë ¥ ê²€ì¦, Agent ì‹¤í–‰, ì¬ì‹œë„ ê´€ë¦¬, ë¡œê·¸ ì €ì¥ |
| ë³´ì•ˆ | Rate Limiting, Path Traversal ë°©ì§€, ì…ë ¥ ìƒˆë‹ˆíƒ€ì´ì§• |

**ì…ë ¥ ê²€ì¦ ê·œì¹™**:
- taskId: ì˜ë¬¸, ìˆ«ì, í•˜ì´í”ˆ, ì–¸ë”ìŠ¤ì½”ì–´ë§Œ í—ˆìš©
- taskDescription: ìµœëŒ€ 10,000ì
- prdContent: ìµœëŒ€ 50,000ì
- filePath: projectRoot ì™¸ë¶€ ì ‘ê·¼ ê¸ˆì§€

### 3.2 Leader Agent (leader.js)

**ë¡œë”© ëŒ€ìƒ**: Leader

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì—­í•  | ì„¤ê³„ì + ê²€ì¦ì |
| Mode | Planning Mode, Review Mode |
| ë‹´ë‹¹ | IA/Wireframe/SDD/HANDOFF ìƒì„±, ì½”ë“œ ë¦¬ë·°, PASS/FAIL íŒì • |
| ê¶Œí•œ | `.claude/project/*` ìˆ˜ì • ê°€ëŠ¥ |

**Planning Mode ì‚°ì¶œë¬¼**:
- IA.md (ì •ë³´ ì•„í‚¤í…ì²˜)
- Wireframe.md (í™”ë©´ ì„¤ê³„)
- SDD.md (ìƒì„¸ ì„¤ê³„)
- HANDOFF.md (SubAgent ì§€ì‹œì„œ)

**Review Mode ê²€ì¦ í•­ëª©**:
- QUALITY_GATES.md ê¸°ì¤€ ì¶©ì¡± ì—¬ë¶€
- PRD ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§¤ì¹­ (6/6)
- í…ŒìŠ¤íŠ¸ í†µê³¼ ì—¬ë¶€

### 3.3 SubAgent (subagent.js)

**ë¡œë”© ëŒ€ìƒ**: SubAgent

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì—­í•  | êµ¬í˜„ì |
| Mode | Coding Mode |
| ë‹´ë‹¹ | ì½”ë“œ ì‘ì„±, í…ŒìŠ¤íŠ¸ ì‘ì„± |
| ê¶Œí•œ | `src/*`, `tests/*` ìˆ˜ì • ê°€ëŠ¥ |

**ì œì•½ì‚¬í•­ (ê°•ì œ ê·œì¹™)**:
- `.claude/global/*` ìˆ˜ì • ê¸ˆì§€
- ì•„í‚¤í…ì²˜ ì„ì˜ ë³€ê²½ ê¸ˆì§€
- ì„œë²„ DB INSERT/UPDATE/DELETE ê¸ˆì§€
- SELECTë§Œ í—ˆìš© â†’ ë¡œì»¬ì—ì„œ ì‘ì—…

**ì…ë ¥ (Leaderë¡œë¶€í„°)**:
- HANDOFF.md
- IA.md
- SDD.md

**ì¶œë ¥ (Leaderì—ê²Œ)**:
- src/features/*.ts
- tests/*.test.ts
- ì‹¤í–‰ ê²°ê³¼ ë¡œê·¸

---

## 4. Multi-LLM Provider íŒ¨í„´

**ë¡œë”© ëŒ€ìƒ**: Orchestrator (ì„ íƒ)

<!--
[êµ¬ì¡° ìœ ì§€]
Provider íŒ¨í„´ì€ Orchestrator ê°œë°œì ì°¸ì¡°ìš©.
ì¼ë°˜ ì‹¤í–‰ì—ì„œëŠ” ë¡œë”© ë¶ˆí•„ìš”.
-->

### 4.1 Fallback Chain

| ìˆœì„œ | Provider | ìš©ë„ |
|------|----------|------|
| 1 | Claude (Anthropic) | Primary |
| 2 | GPT-4 (OpenAI) | Fallback #1 |
| 3 | Gemini (Google) | Fallback #2 |

### 4.2 í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ | ì„¤ëª… |
|------|------|
| ANTHROPIC_API_KEY | Claude API í‚¤ |
| OPENAI_API_KEY | GPT-4 API í‚¤ (ì„ íƒ) |
| GOOGLE_API_KEY | Gemini API í‚¤ (ì„ íƒ) |
| ANTHROPIC_MODEL | ì‚¬ìš©í•  ëª¨ë¸ (ê¸°ë³¸: claude-sonnet-4-20250514) |

---

## 5. ë³´ì•ˆ ì•„í‚¤í…ì²˜

**ë¡œë”© ëŒ€ìƒ**: ëª¨ë“  Agent (ê¶Œì¥)

<!--
[êµ¬ì¡° ìœ ì§€ + í…Œì´ë¸” í˜•ì‹ ê°œì„ ]
4ê³„ì¸µ ë³´ì•ˆì€ ì¤‘ìš”í•˜ë¯€ë¡œ êµ¬ì¡° ìœ ì§€.
ê° Agentê°€ ìì‹ ì˜ ê³„ì¸µë§Œ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ ëª…í™•íˆ êµ¬ë¶„.
-->

### 5.1 4ê³„ì¸µ ë³´ì•ˆ

| Layer | ë‹´ë‹¹ Agent | ì—­í•  |
|-------|-----------|------|
| Layer 1 | Orchestrator | ì…ë ¥ ê²€ì¦ (Path Traversal, ê¸¸ì´ ì œí•œ) |
| Layer 2 | Leader | Prompt Injection ë°©ì–´ |
| Layer 3 | SubAgent | Output Validation (Protected Path ë³´í˜¸) |
| Layer 4 | Utils | ê°ì‚¬ ë¡œê¹…, ë¬´ê²°ì„± ê²€ì¦ |

### 5.2 Layerë³„ ìƒì„¸

**Layer 1 - Input Validation (Orchestrator)**
- validateTaskId(): `../../../` ì°¨ë‹¨, íŠ¹ìˆ˜ë¬¸ì ì œí•œ
- sanitizeTaskDescription(): 10,000ì ì œí•œ
- sanitizePrdContent(): 50,000ì ì œí•œ
- validateFilePath(): projectRoot ì™¸ë¶€ ê²½ë¡œ ì°¨ë‹¨
- checkRateLimit(): 20íšŒ/ì‹œê°„ ì œí•œ

**Layer 2 - Prompt Injection Defense (Leader)**
- ìœ„í—˜ íŒ¨í„´ í•„í„°ë§: "ignore previous instructions", "disregard all rules" ë“±
- wrapUserContent(): ê²½ê³„ ë§ˆì»¤ë¡œ ì‚¬ìš©ì ì…ë ¥ ê²©ë¦¬

**Layer 3 - Output Validation (SubAgent)**
- Path Traversal ê±°ë¶€ (`../`)
- Absolute Path ê±°ë¶€ (`/etc/passwd`)
- Protected Path ê±°ë¶€ (`.claude/global/*`)

**Layer 4 - Audit & Integrity (Utils)**
- AuditLogger: ë³´ì•ˆ ì´ë²¤íŠ¸ ì¶”ì , ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹
- RulebookValidator: `.claude/global/*` SHA256 í•´ì‹œ ê²€ì¦
- HandoffValidator: HANDOFF í”„ë¡œí† ì½œ ìŠ¤í‚¤ë§ˆ + ë³´ì•ˆ ê²€ì¦

---

## 6. Handoff í”„ë¡œí† ì½œ

**ë¡œë”© ëŒ€ìƒ**: Leader, SubAgent (í•„ìˆ˜)

<!--
[êµ¬ì¡° ìœ ì§€]
Handoff í”„ë¡œí† ì½œì€ Leader-SubAgent í†µì‹ ì˜ í•µì‹¬.
ë‘ Agent ëª¨ë‘ í•„ìˆ˜ ë¡œë”©.
-->

### 6.1 Leader â†’ SubAgent (HANDOFF.md í˜•ì‹)

| ì„¹ì…˜ | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª… |
|------|----------|------|
| Mode | í•„ìˆ˜ | coding, review, test, refactor, debug ì¤‘ í•˜ë‚˜ |
| Input | í•„ìˆ˜ | ì°¸ì¡°í•  ë¬¸ì„œ ëª©ë¡ |
| Output | í•„ìˆ˜ | ìƒì„±í•  íŒŒì¼ ëª©ë¡ |
| Constraints | í•„ìˆ˜ | ì œì•½ì‚¬í•­ |
| CompletionCriteria | ê¶Œì¥ | ì™„ë£Œ ì¡°ê±´ |

### 6.2 SubAgent â†’ Leader (ì™„ë£Œ ë³´ê³  í˜•ì‹)

| ì„¹ì…˜ | ì„¤ëª… |
|------|------|
| ìƒì„±ëœ íŒŒì¼ | ì‹¤ì œ ìƒì„±ëœ íŒŒì¼ ëª©ë¡ |
| ì‹¤í–‰ ê²°ê³¼ | í…ŒìŠ¤íŠ¸ í†µê³¼ ì—¬ë¶€, íƒ€ì…ì²´í¬ ê²°ê³¼ |
| ì´ìŠˆ | ë°œìƒí•œ ë¬¸ì œ (ìˆëŠ” ê²½ìš°) |

### 6.3 HandoffValidator ê²€ì¦

| ê²€ì¦ í•­ëª© | ë‚´ìš© |
|----------|------|
| í•„ìˆ˜ ì„¹ì…˜ | Mode, Input, Output, Constraints |
| Mode ê°’ | í—ˆìš©ëœ ê°’ ì¤‘ í•˜ë‚˜ |
| ë³´ì•ˆ íŒ¨í„´ | "ignore previous", "bypass security" ë“± ì°¨ë‹¨ |

---

## 7. íŒŒì¼ êµ¬ì¡°

**ë¡œë”© ëŒ€ìƒ**: ì°¸ì¡°ìš©

<!--
[êµ¬ì¡° ìœ ì§€]
íŒŒì¼ êµ¬ì¡°ëŠ” ê°œë°œì ì°¸ì¡°ìš©.
Agentê°€ ë¡œë”©í•  í•„ìš” ì—†ìŒ.
-->

```
Medi-Notion/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ global/ â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ”´ READ ONLY
â”‚   â””â”€â”€ project/ â”€â”€â”€â”€â”€â”€â”€ ğŸŸ¢ WRITABLE (Leaderë§Œ)
â”œâ”€â”€ orchestrator/
â”‚   â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ logs/
â”œâ”€â”€ docs/<task-id>/ â”€â”€â”€â”€ ì„¤ê³„ ë¬¸ì„œ
â””â”€â”€ src/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SubAgent ì‘ì—… ì˜ì—­
```

---

## 8-10. ì‚¬ìš©ë²•, ë©”íŠ¸ë¦­, ì¬ì‹œë„ ì •ì±…

**ë¡œë”© ëŒ€ìƒ**: ì°¸ì¡°ìš© / Orchestrator (ì—ëŸ¬ ì‹œ)

### 8. ê¸°ë³¸ ì‚¬ìš©ë²•

```bash
node orchestrator/index.js "ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„"
node orchestrator/index.js --prd docs/PRD.md "ê¸°ëŠ¥ êµ¬í˜„"
```

### 9. ë©”íŠ¸ë¦­ ì¶”ì 

| ë©”íŠ¸ë¦­ | ì„¤ëª… |
|--------|------|
| ì´ ì†Œìš” ì‹œê°„ | ì „ì²´ ì‘ì—… ì™„ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ |
| í† í° ì‚¬ìš©ëŸ‰ | Leader/SubAgent ì…ë ¥/ì¶œë ¥ í† í° |
| ì¬ì‹œë„ íšŸìˆ˜ | Review FAILë¡œ ì¸í•œ ì¬ì‹œë„ |
| ë³´ì•ˆ ì´ë²¤íŠ¸ | Path Traversal, Prompt Injection ì‹œë„ ë“± |

### 10. ì¬ì‹œë„ ì •ì±…

| ìƒí™© | ë™ì‘ |
|------|------|
| Review PASS | ì‘ì—… ì™„ë£Œ |
| Review FAIL (1~4íšŒ) | í”¼ë“œë°± ë°˜ì˜ í›„ ì¬ì‹œë„ |
| Review FAIL (5íšŒ ì´ˆê³¼) | ì‘ì—… ì¤‘ë‹¨, ì‚¬ìš©ì ê°œì… ìš”ì²­ |
| API ì—ëŸ¬ | Fallback Provider ì‹œë„ |
| ëª¨ë“  Provider ì‹¤íŒ¨ | ì—ëŸ¬ ë¡œê·¸ ê¸°ë¡, ì‘ì—… ì¤‘ë‹¨ |

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

| ë¬¸ì„œ | ì—­í•  |
|------|------|
| CLAUDE.md | íŒ€ í—Œë²•, Safety Rules |
| QUALITY_GATES.md | Leaderì˜ ê²€ì¦ ê¸°ì¤€ |
| DOMAIN_SCHEMA.md | ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ |
| ERROR_HANDLING_GUIDE.md | ì¥ì•  ëŒ€ì‘ ì ˆì°¨ |

---

**END OF AGENT_ARCHITECTURE.md**

---

## ğŸ”§ êµ¬í˜„ ê°€ì´ë“œ

### ê¸°ì¡´ íŒŒì¼ ì²˜ë¦¬

| íŒŒì¼ | ì¡°ì¹˜ |
|------|------|
| AGENT_ARCHITECTURE.md | ì„¹ì…˜ 0 ì¶”ê°€, ë²„ì „ ì—…ë°ì´íŠ¸ |

<!--
[ë³€ê²½ ì‚¬ìœ ]
ê¸°ì¡´ AGENT_ARCHITECTURE.mdëŠ” êµ¬ì¡°ê°€ ì˜ ì •ë¦¬ë˜ì–´ ìˆìŒ.
ì‚­ì œ/í†µí•© ëŒ€ì‹  ì„¹ì…˜ 0 (Agent ë¡œë”© ì„¤ì •) ì¶”ê°€í•˜ì—¬ ì„ íƒì  ë¡œë”© ê°€ì´ë“œ ì œê³µ.
-->

### Agent ë¡œë”© êµ¬í˜„

**Orchestrator (orchestrator.js)**
- ì´ˆê¸°í™” ì‹œ ì„¹ì…˜ 1, 3.1, 5, 10 ë¡œë”©
- ì—ëŸ¬ ë°œìƒ ì‹œ ì„¹ì…˜ 10 ì¬ì°¸ì¡°

**Leader (leader.js)**
- Planning/Review ì§„ì… ì‹œ ì„¹ì…˜ 3.2, 6 ë¡œë”©
- ë³´ì•ˆ ê²€ì¦ í•„ìš” ì‹œ ì„¹ì…˜ 5.1 Layer 2 ì°¸ì¡°

**SubAgent (subagent.js)**
- Coding ì§„ì… ì‹œ ì„¹ì…˜ 3.3, 6 ë¡œë”©
- ì¶œë ¥ ê²€ì¦ ì‹œ ì„¹ì…˜ 5.1 Layer 3 ì°¸ì¡°

**OutputValidator (output-validator.js)**
- ê²€ì¦ ì‹¤í–‰ ì‹œ ì„¹ì…˜ 5.1 Layer 3 ë¡œë”©

---

## ğŸ“Š ê¸°ëŒ€ íš¨ê³¼

| í•­ëª© | AS-IS | TO-BE |
|------|-------|-------|
| Agent ë¡œë”© | âŒ ì—†ìŒ | âœ… ì„¹ì…˜ë³„ ì„ íƒì  ë¡œë”© |
| í† í° ì‚¬ìš© | ì „ì²´ 4,500 í† í° | ì„¹ì…˜ë³„ 600~1,200 í† í° |
| ì—­í•  ì¸ì‹ | âŒ í•˜ë“œì½”ë”© | âœ… ë¬¸ì„œ ê¸°ë°˜ |
| Handoff ê²€ì¦ | â–³ í˜•ì‹ë§Œ | âœ… í”„ë¡œí† ì½œ ì¤€ìˆ˜ |
| ë³´ì•ˆ ê³„ì¸µ | â–³ ì¼ë¶€ êµ¬í˜„ | âœ… ë¬¸ì„œ-ì½”ë“œ ì—°ë™ |
