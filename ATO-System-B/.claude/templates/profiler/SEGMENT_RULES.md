# SEGMENT_RULES.md

> **버전**: 1.0.0 | **수정일**: 2026-01-07
> **정의**: 세그먼트 정의 규칙
> **대상**: Analyzer | **로딩**: 작업 시

---

## 1. 활동 기반 세그먼트

### 활성도 세그먼트 (Activity Level)

| 세그먼트 | 정의 | 조건 |
|----------|------|------|
| **HEAVY** | 고활동 사용자 | 월 방문 10회 이상 |
| **MEDIUM** | 중활동 사용자 | 월 방문 3-9회 |
| **LIGHT** | 저활동 사용자 | 월 방문 1-2회 |
| **DORMANT** | 휴면 사용자 | 최근 30일 방문 0회 |
| **CHURNED** | 이탈 사용자 | 최근 90일 방문 0회 |

### SQL 조건 예시
```sql
CASE
  WHEN monthly_visits >= 10 THEN 'HEAVY'
  WHEN monthly_visits >= 3 THEN 'MEDIUM'
  WHEN monthly_visits >= 1 THEN 'LIGHT'
  WHEN days_since_last_visit <= 30 THEN 'DORMANT'
  ELSE 'CHURNED'
END AS activity_segment
```

---

## 2. 라이프사이클 세그먼트

### 회원 생애주기 (Lifecycle Stage)

| 세그먼트 | 정의 | 조건 |
|----------|------|------|
| **NEW** | 신규 회원 | 가입 30일 이내 |
| **GROWING** | 성장 회원 | 가입 31-90일, 활동 증가 추세 |
| **MATURE** | 성숙 회원 | 가입 91일 이상, 안정적 활동 |
| **AT_RISK** | 이탈 위험 | 활동 감소 추세 (전월 대비 50% 이하) |
| **REACTIVATED** | 재활성화 | 휴면 후 복귀 |

---

## 3. 직업 기반 세그먼트

### 전문과목별 (Specialty)

| 코드 | 세그먼트명 | 설명 |
|------|----------|------|
| SPC001 | 내과 | 내과 전문의 |
| SPC002 | 외과 | 외과 전문의 |
| SPC003 | 소아청소년과 | 소아청소년과 전문의 |
| SPC004 | 산부인과 | 산부인과 전문의 |
| SPC005 | 정신건강의학과 | 정신건강의학과 전문의 |
| ... | ... | ... |

### 근무형태별 (Work Type)

| 코드 | 세그먼트명 | 설명 |
|------|----------|------|
| WRK001 | 봉직의 | 병원 소속 봉직의 |
| WRK002 | 개원의 | 개인 의원 운영 |
| WRK003 | 전공의 | 수련 중인 전공의 |
| WRK004 | 교수 | 대학병원 교수 |
| WRK005 | 공보의 | 공중보건의 |

---

## 4. 행동 기반 세그먼트

### 서비스 이용 패턴

| 세그먼트 | 정의 | 주요 행동 |
|----------|------|----------|
| **JOB_SEEKER** | 구직 활동형 | 채용공고 조회 5회 이상/월 |
| **CONTENT_CONSUMER** | 콘텐츠 소비형 | 게시글 조회 20회 이상/월 |
| **COMMUNITY_ACTIVE** | 커뮤니티 활동형 | 게시글/댓글 작성 3회 이상/월 |
| **BROWSER** | 단순 방문형 | 로그인만 하고 활동 없음 |

---

## 5. 가치 기반 세그먼트

### 회원 가치 (Value Tier)

| 세그먼트 | 정의 | 기준 |
|----------|------|------|
| **VIP** | 최고가치 | 유료 서비스 이용 + 고활동 |
| **HIGH_VALUE** | 고가치 | 유료 서비스 이용 또는 고활동 |
| **STANDARD** | 일반 | 기본 활동 수준 |
| **LOW_VALUE** | 저가치 | 저활동 + 무료만 이용 |

---

## 6. 세그먼트 조합 규칙

### 복합 세그먼트 생성
여러 기준을 조합하여 세그먼트 생성 가능:

```
[활동] + [직업] + [행동]
예: HEAVY + 내과 + JOB_SEEKER = "적극적 구직 내과의"
```

### 우선순위
1. 활동 기반 (가장 최신 상태 반영)
2. 라이프사이클 (장기 추세 반영)
3. 직업 기반 (고정 속성)
4. 행동 기반 (특정 패턴 식별)

---

## 7. 세그먼트 분석 시 주의사항

### 최소 표본 크기
- 통계적 유의성을 위해 세그먼트당 최소 30명 이상
- 30명 미만 시 상위 세그먼트와 병합 또는 제외

### 중복 처리
- 한 회원이 여러 세그먼트에 속할 수 있음
- 분석 목적에 따라 primary segment 지정

### 시간 기준
- 활동 세그먼트: 최근 30일 기준
- 라이프사이클: 전체 기간 고려
- 정기적 재분류 (월 1회)

---

**END OF SEGMENT RULES**
