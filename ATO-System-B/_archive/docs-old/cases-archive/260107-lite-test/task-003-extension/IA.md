# IA.md - 무찌마 일간 베스트 팟캐스트 정보 구조

> **문서 버전**: 1.0.0
> **최종 업데이트**: 2026-01-07
> **상위 문서**: PRD - 무찌마 일간 베스트 팟캐스트 페이지

---

## 1. 서비스 정보 계층 구조

```
무찌마 일간 베스트 팟캐스트
├── 1. 헤더 영역
│   ├── 1.1 서비스 제목 ("무찌마 일간 베스트")
│   └── 1.2 날짜 표시 (YYYY-MM-DD)
│
├── 2. 팟캐스트 플레이어
│   ├── 2.1 재생 컨트롤
│   │   ├── 재생/일시정지 버튼
│   │   └── 진행 상태 표시
│   └── 2.2 대본 표시 영역
│       ├── Host 대사
│       └── Guest 대사
│
└── 3. 베스트 게시물 요약
    ├── 3.1 순위 표시 (#1~#5)
    ├── 3.2 게시물 제목
    ├── 3.3 인기 점수
    └── 3.4 카테고리 (의료분쟁/감성에세이)
```

---

## 2. 네비게이션 구조

### 2.1 진입점 (Entry Points)

| 위치 | 라우팅 | 설명 |
|------|--------|------|
| 메인 페이지 | `/podcast` | 팟캐스트 플레이어 메인 |
| API 엔드포인트 | `/api/podcast/script` | 대본 데이터 조회 |
| API 엔드포인트 | `/api/podcast/best-posts` | 베스트 게시물 조회 |

### 2.2 페이지 라우팅

```
/ (앱 루트)
└── /podcast (팟캐스트 플레이어 - 단일 페이지)
```

> **참고**: 이 기능은 단일 페이지로 구현되며, 별도의 서브 라우팅 없음.

---

## 3. 데이터 흐름 (Data Flow)

### 3.1 데이터 흐름도

```
[DB: BOARD_MUZZIMA]
       │
       ▼ (SELECT 상위 5건)
[Backend API]
  ├── /api/podcast/best-posts → BestPost[]
  └── /api/podcast/script → PodcastScript
       │
       ▼ (fetch)
[Frontend State]
       │
       ├── scriptData: PodcastScript
       └── bestPosts: BestPost[]
       │
       ▼ (렌더링)
[UI Components]
  ├── PodcastPlayer (메인)
  ├── ScriptDisplay (대본)
  └── PlayButton (재생)
```

### 3.2 실시간 데이터 소스

| 데이터 | 테이블/API | 업데이트 주기 |
|--------|----------|---------------|
| 베스트 게시물 | `BOARD_MUZZIMA` | 매일 00:00 갱신 |
| 대본 | `/api/podcast/script` | 요청 시 생성 |

---

## 4. 컨텐츠 구조

### 4.1 팟캐스트 대본 구성

```yaml
대본 구조:
  - opening: 오프닝 멘트 (20초)
  - topic_1: 메인 토픽 - 1위 게시물 (90초)
  - topic_2: 서브 토픽 - 2위 게시물 (40초)
  - topic_3: 공감 토픽 - 3~4위 게시물 (20초)
  - closing: 클로징 멘트 (10초)
총 길이: 약 3분 (450~500 단어)
```

### 4.2 대사 형식

| 화자 | 역할 | 톤 |
|------|------|-----|
| Host | 진행자 (Dr. AI) | 전문적, 따뜻함 |
| Guest | 게스트 (의사 커뮤니티 대표) | 공감적, 친근함 |

### 4.3 정보 우선순위

| 우선순위 | 항목 | 가중치 |
|----------|------|--------|
| 1 | 대본 내용 (ScriptDisplay) | 50% |
| 2 | 재생 컨트롤 (PlayButton) | 30% |
| 3 | 베스트 게시물 요약 | 20% |

---

## 5. 상태 관리 (State Management)

### 5.1 상태 정의

```yaml
상태 목록:
  - IDLE: 초기 상태 (대기 중)
  - LOADING: 데이터 로딩 중
  - READY: 재생 준비 완료
  - PLAYING: 대본 재생 중
  - PAUSED: 일시 정지
  - ERROR: 에러 발생
```

### 5.2 상태 전이 조건

| 현재 상태 | 이벤트 | 다음 상태 |
|----------|--------|----------|
| IDLE | fetchScript() | LOADING |
| LOADING | success | READY |
| LOADING | error | ERROR |
| READY | play() | PLAYING |
| PLAYING | pause() | PAUSED |
| PAUSED | play() | PLAYING |
| PLAYING | end | READY |

---

## 6. 접근 권한 구조

| 권한 레벨 | 대상 | 접근 범위 |
|-----------|------|----------|
| 기본 | 모든 방문자 | 전체 기능 (인증 불필요) |

> **참고**: 이 기능은 로그인 없이 접근 가능한 공개 페이지입니다.

---

## 7. 모바일/반응형 고려사항

### 7.1 모바일 우선 설계

- 세로 스크롤 단일 컬럼 레이아웃
- 터치 친화적 재생 버튼 (min 44px)
- 대본 텍스트 가독성 (min 16px)

### 7.2 데스크톱 확장

- 최대 너비 제한 (max-w-2xl)
- 좌우 여백 충분히 확보
- 대본 영역 고정 높이 + 스크롤

---

**END OF IA.MD**
