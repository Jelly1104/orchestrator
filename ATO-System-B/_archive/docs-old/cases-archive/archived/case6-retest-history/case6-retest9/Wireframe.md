# Wireframe.md - 화면 설계

> **문서 ID**: WIREFRAME-orchestrator-validation-20251223  
> **연관 PRD**: case6-orchestrator-validation-20251223  
> **생성일**: 2025-12-23

## 1. 메인 대시보드 화면

```
┌─────────────────────────────────────────────────────────────────────┐
│                    🎯 오케스트레이터 통합 검증                        │
├─────────────────────────────────────────────────────────────────────┤
│  [Phase A 분석] [Phase B 설계] [Phase C 구현] [📊 전체 리포트]        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  📈 검증 진행 상태                        🎯 성공 지표 모니터링       │
│  ┌─────────────────────────────┐         ┌─────────────────────────┐ │
│  │ Phase A: ✅ COMPLETED       │         │ SQL 생성 성공률: 100%   │ │
│  │ Phase B: 🔄 IN_PROGRESS     │         │ 스키마 일치율: 100%     │ │
│  │ Phase C: ⏸️ WAITING         │         │ 테스트 커버리지: 92%    │ │
│  │                             │         │ 빌드 성공: PASS        │ │
│  │ ⏱️ 경과시간: 25분           │         └─────────────────────────┘ │
│  │ 🔄 재시도 횟수: 1/3         │                                   │
│  └─────────────────────────────┘                                   │
│                                                                     │
│  📋 컴포넌트별 검증 상태                                             │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ Component      │ Status    │ Validation Points │ Issues       │ │
│  │─────────────────────────────────────────────────────────────────│ │
│  │ PRD Analyzer   │ ✅ PASS  │ Gap Check, 유형판별 │ None         │ │
│  │ Leader Agent   │ 🔄 ACTIVE │ Planning, Review    │ None         │ │
│  │ SubAgent       │ ⏸️ WAIT   │ 코드생성, TDD      │ Pending      │ │
│  │ AnalysisAgent  │ ✅ PASS  │ SQL생성, 스키마검증 │ None         │ │
│  │ Orchestrator   │ 🔄 ACTIVE │ 라우팅, 재시도     │ None         │ │
│  │ HITL           │ ✅ PASS  │ 2회 트리거됨       │ None         │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  📝 실시간 로그 피드                                               │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ 14:23:45 [INFO] Phase A completed - 4 SQL queries executed     │ │
│  │ 14:24:12 [HITL] Query review checkpoint triggered             │ │
│  │ 14:24:45 [INFO] Phase B started - Document generation          │ │
│  │ 14:25:30 [INFO] IA.md generated successfully                   │ │
│  │ 14:26:15 [INFO] SDD.md completed with legacy schema mapping    │ │
│  │ ▼ 더 보기...                                                   │ │
│  └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘
```

## 2. Phase A 분석 대시보드

```
┌─────────────────────────────────────────────────────────────────────┐
│             📊 Phase A: 정량적 분석 검증 결과                        │
├─────────────────────────────────────────────────────────────────────┤
│  ← 메인 대시보드    [A1 회원세그먼트] [A2 전문과목분포] [A3 로그인패턴] │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  🎯 SQL 쿼리 실행 결과                                             │
│  ┌───────────────────────┬───────────────────────┬─────────────────┐ │
│  │ Query ID              │ Status                │ Execution Time  │ │
│  ├───────────────────────┼───────────────────────┼─────────────────┤ │
│  │ segment_query.sql     │ ✅ SUCCESS (128,496)  │ 2.3s           │ │
│  │ distribution_query.sql│ ✅ SUCCESS (데이터OK) │ 1.8s           │ │
│  │ login_pattern_query.sql│ ✅ SUCCESS (LIMIT적용)│ 4.2s           │ │
│  │ analysis_result.json  │ ✅ GENERATED         │ 0.1s           │ │
│  └───────────────────────┴───────────────────────┴─────────────────┘ │
│                                                                     │
│  📈 활성 회원 세그먼트 분포                                         │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │     ████████████████████████████ UKD001 (128,496명) 63%        │ │
│  │     ████████████ UKD003 (38,250명) 19%                        │ │  
│  │     ██████ UKD007 (27,168명) 13%                               │ │
│  │     ██ 기타 (10,000명) 5%                                      │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  📊 전문과목별 분포 (상위 10개)                                     │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ Major Code │ 전체 회원 │ 활성 회원 │ 활성률 │ 차이    │       │ │
│  │─────────────────────────────────────────────────────────────────│ │
│  │ IM (내과)  │ 45,230    │ 38,450    │ 85%   │ +5.2%p │ 🔥    │ │
│  │ GS (외과)  │ 32,140    │ 26,820    │ 83%   │ +3.1%p │ ⚠️    │ │
│  │ PSY (정신) │ 18,560    │ 15,230    │ 82%   │ +2.8%p │       │ │
│  │ ... 더보기                                                     │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ⏰ 로그인 패턴 분석 (최근 30일)                                   │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │    시간대별 로그인 분포     │     요일별 패턴                   │ │
│  │ ┌─────────────────────────┐ │ ┌─────────────────────────────┐ │ │
│  │ │ 08:00 ████████████      │ │ │ 월 ████████████████████     │ │ │
│  │ │ 12:00 ████████████████  │ │ │ 화 ██████████████████████   │ │ │
│  │ │ 18:00 ██████████████    │ │ │ 수 ████████████████████     │ │ │
│  │ │ 22:00 ████████          │ │ │ 목 ██████████████████████   │ │ │
│  │ └─────────────────────────┘ │ │ 금 ████████████████████     │ │ │
│  │                             │ │ 토 ████████                 │ │ │
│  │                             │ │ 일 ██████                   │ │ │
│  │                             │ └─────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  [📥 분석 결과 다운로드] [🔄 재실행] [➡️ Phase B로 이동]              │
└─────────────────────────────────────────────────────────────────────┘
```

## 3. Phase B 설계 검증 화면

```
┌─────────────────────────────────────────────────────────────────────┐
│             📋 Phase B: 설계 문서 검증 결과                          │
├─────────────────────────────────────────────────────────────────────┤
│  ← Phase A     [B1 IA설계] [B2 Wireframe] [B3 SDD] [B4 HANDOFF]     │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  📄 생성된 문서 목록                                               │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ Document     │ Status    │ Size  │ Validation    │ Actions     │ │
│  ├─────────────────────────────────────────────────────────────────┤ │
│  │ IA.md        │ ✅ VALID │ 2.3KB │ 레벨구조 OK   │ [👁️ View]   │ │
│  │ Wireframe.md │ ✅ VALID │ 4.1KB │ ASCII형식 OK  │ [👁️ View]   │ │
│  │ SDD.md       │ ✅ VALID │ 6.8KB │ 레거시매핑 OK │ [👁️ View]   │ │
│  │ HANDOFF.md   │ ✅ VALID │ 3.2KB │ 필수섹션 OK   │ [👁️ View]   │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  🎯 설계 품질 검증 결과                                            │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │                                                                 │ │
│  │  ✅ IA 완성도: 모든 화면 정의됨 (메인→Phase별→상세)             │ │
│  │  ✅ Wireframe 명확성: 컴포넌트 배치 명확                       │ │
│  │  ✅ SDD 레거시 매핑: 모든 테이블 DOMAIN_SCHEMA 대조 완료        │ │
│  │  ✅ HANDOFF 보안 검증: Protected Path 보호 규칙 포함            │ │
│  │                                                                 │ │
│  │  📊 상세 검증 지표:                                            │ │
│  │     • 네비게이션 구조: 3레벨 완성 ✅                           │ │
│  │     • 컴포넌트 재사용성: 공통 4개 + 전용 4개 ✅               │ │
│  │     • 레거시 테이블 매핑: USERS, USER_DETAIL, USER_LOGIN ✅   │ │
│  │     • API 엔드포인트: 4개 정의 (TypeScript 타입 포함) ✅       │ │
│  │                                                                 │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  🔍 레거시 스키마 매핑 확인                                        │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ API Endpoint              │ Legacy Table  │ Columns Used        │ │
│  ├─────────────────────────────────────────────────────────────────┤ │
│  │ GET /api/v1/segments      │ USERS         │ U_ID, U_KIND, U_ALIVE│ │
│  │ GET /api/v1/distribution  │ USER_DETAIL   │ U_MAJOR_CODE_1      │ │
│  │ GET /api/v1/login-pattern │ USER_LOGIN    │ LOGIN_DATE, U_ID    │ │
│  │ GET /api/v1/analytics     │ [Multi-JOIN]  │ [복합 쿼리]         │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  🚨 HITL 체크포인트 상태                                           │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ ⏸️ 설계 승인 대기 중...                                        │ │
│  │                                                                 │ │
│  │ 📋 승인 요청 항목:                                             │ │
│  │  • IA 구조 적절성 검토 필요                                    │ │
│  │  • SDD 레거시 매핑 정확성 확인 필요                            │ │
│  │  • HANDOFF 보안 규칙 검토 필요                                 │ │
│  │                                                                 │ │
│  │ [✅ 승인] [❌ 수정요청] [💬 코멘트 추가]                         │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  [📥 문서 일괄 다운로드] [🔄 재생성] [➡️ Phase C로 이동]              │
└─────────────────────────────────────────────────────────────────────┘
```

## 4. Phase C 구현 검증 화면

```
┌─────────────────────────────────────────────────────────────────────┐
│             💻 Phase C: 코드 구현 검증 결과                          │
├─────────────────────────────────────────────────────────────────────┤
│  ← Phase B     [C1 API구현] [C2 React컴포넌트] [C3 테스트] [C4 보안] │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  🔨 빌드 및 컴파일 상태                                            │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ Component           │ Build Status │ TypeScript │ Lint Status  │ │
│  ├─────────────────────────────────────────────────────────────────┤ │
│  │ Backend API         │ ✅ SUCCESS  │ ✅ PASS   │ ✅ PASS      │ │
│  │ Frontend Components │ ✅ SUCCESS  │ ✅ PASS   │ ✅ PASS      │ │
│  │ Test Files          │ ✅ SUCCESS  │ ✅ PASS   │ ✅ PASS      │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  📊 테스트 커버리지 리포트                                         │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │                                                                 │ │
│  │  전체 커버리지: 92.3% ✅ (목표: ≥ 90%)                         │ │
│  │                                                                 │ │
│  │  📂 backend/src/features/analytics/                            │ │
│  │     • analytics.controller.ts:  95% ████████████████████▌     │ │
│  │     • analytics.service.ts:     88% ██████████████████▎       │ │  
│  │     • analytics.repository.ts:  91% ██████████████████▊       │ │
│  │                                                                 │ │
│  │  📂 frontend/src/features/analytics/                           │ │
│  │     • AnalyticsDashboard.tsx:   94% ████████████████████▍     │ │
│  │     • SegmentChart.tsx:         89% █████████████████▊        │ │
│  │     • FilterPanel.tsx:          96% ████████████████████▋     │ │
│  │                                                                 │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  🛡️ 보안 검증 결과                                                │ │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │                                                                 │ │
│  │  ✅ Protected Path 보호: .claude/rules/* 접근 차단됨            │ │
│  │  ✅ SELECT Only 준수: INSERT/UPDATE/DELETE 코드 없음            │ │
│  │  ✅ 행 제한 준수: 모든 쿼리에 LIMIT 10,000 적용됨               │ │
│  │  ✅ 타임아웃 준수: 최대 실행시간 4.2초 (제한: 30초)             │ │
│  │                                                                 │ │
│  │  🚫 보안 위반 감지: 0건                                        │ │
│  │                                                                 │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  📁 생성된 파일 구조                                               │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │ backend/src/features/analytics/                                 │ │
│  │ ├── analytics.controller.ts      ✅ 2.1KB                      │ │
│  │ ├── analytics.service.ts         ✅ 3.8KB                      │ │
│  │ ├── analytics.repository.ts      ✅ 4.2KB                      │ │
│  │ ├── dto/                                                        │ │
│  │ │   ├── segment-query.dto.ts     ✅ 0.8KB                      │ │
│  │ │   └── analytics-response.dto.ts ✅ 1.2KB                     │ │
│  │ └── tests/                                                      │ │
│  │     └── analytics.service.test.ts ✅ 5.3KB                     │ │
│  │                                                                 │ │
│  │ frontend/src/features/analytics/                                │ │
│  │ ├── AnalyticsDashboard.tsx       ✅ 6.7KB                      │ │
│  │ ├── SegmentChart.tsx             ✅ 3.2KB                      │ │
│  │ ├── LoginTrendChart.tsx          ✅ 2.9KB                      │ │
│  │ ├── FilterPanel.tsx              ✅ 2.1KB                      │ │
│  │ └── tests/                                                      │ │
│  │     └── AnalyticsDashboard.test.tsx ✅ 4.5KB                   │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  [📥 코드 다운로드] [🧪 테스트 재실행] [📊 최종 리포트 생성]          │
└─────────────────────────────────────────────────────────────────────┘
```

## 5. 공통 UI 컴포넌트

### Status Badge
```
✅ SUCCESS  🔄 IN_PROGRESS  ⏸️ WAITING  ❌ FAILED  🔥 HIGH_PRIORITY
```

### Progress Indicator  
```
Phase A ━━━━━━━━━━ 100%  ✅
Phase B ━━━━━━━━▒▒ 80%   🔄  
Phase C ▒▒▒▒▒▒▒▒▒▒ 0%    ⏸️
```

### Filter Panel (공통)
```
┌─────────────────────────────────────┐
│ 🔍 필터                             │
│ ┌─────────────────────────────────┐ │
│ │ Phase: [All ▼]                  │ │
│ │ Status: [All ▼]                 │ │
│ │ Component: [All ▼]              │ │
│ │ Date Range: [최근 7일 ▼]        │ │
│ └─────────────────────────────────┘ │
│ [🔍 검색] [🧹 리셋]                │
└─────────────────────────────────────┘
```

## 6. 데이터 매핑

### Dashboard Metrics (실시간)
- `orchestrator_status`: Phase 진행 상태
- `validation_metrics`: 성공 지표 수치  
- `component_health`: 각 컴포넌트 상태
- `hitl_checkpoints`: HITL 트리거 로그
- `security_violations`: 보안 위반 감지

### Phase A Data
- `sql_execution_results`: 쿼리 실행 결과
- `schema_validation`: DOMAIN_SCHEMA 일치성
- `analysis_insights`: 분석 인사이트
- `data_visualizations`: 차트 데이터

### Phase B/C Data  
- `document_metadata`: 문서 메타 정보
- `code_metrics`: 빌드, 테스트, 보안 지표
- `file_structure`: 생성된 파일 구조