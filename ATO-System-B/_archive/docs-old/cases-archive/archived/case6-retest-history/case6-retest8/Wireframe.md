# Wireframe.md - 오케스트레이터 검증 시스템 화면 설계

## 1. 메인 대시보드 (Dashboard)

```
┌──────────────────────────────────────────────────────────────┐
│ 🔧 Orchestrator Validation System                [⚙️] [👤]    │
├──────────────────────────────────────────────────────────────┤
│ Phase A │ Phase B │ Phase C │ Monitoring │                   │
├─────────┴─────────┴─────────┴────────────┴───────────────────┤
│                                                              │
│ 📊 파이프라인 진행상황                                         │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ Phase A: ✅ 완료 │ Phase B: ⏳ 진행중 │ Phase C: ⏸️ 대기  │  │
│ │ [████████████████████████████████████░░░░] 67% 완료       │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 📈 실시간 메트릭                                               │
│ ┌────────────┬────────────┬────────────┬────────────┐        │
│ │ 성공률     │ 실행 시간   │ 메모리     │ HITL 대기   │        │
│ │ 95%        │ 23분       │ 512MB      │ 2건        │        │
│ │ ✅ 양호     │ ⚠️ 평균     │ ✅ 정상     │ ⏳ 처리중   │        │
│ └────────────┴────────────┴────────────┴────────────┘        │
│                                                              │
│ 🎯 성공 지표 현황                                              │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ SQL 생성: 4/4 ✅ │ 스키마 일치: 100% ✅                   │  │
│ │ 테스트 커버리지: 92% ✅ │ 빌드 상태: PASS ✅              │  │
│ │ HITL 트리거: 2회 ✅ │ 보안 위반: 0건 ✅                   │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 🔄 최근 활동                                                   │
│ • 15:32 - Phase B SDD.md 생성 완료                           │
│ • 15:30 - HITL 체크포인트: 설계 승인 대기                     │
│ • 15:28 - Phase A 분석 결과 검증 완료                         │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

## 2. Phase A: 분석 대시보드

```
┌──────────────────────────────────────────────────────────────┐
│ Phase A: 데이터 분석                            [새로고침] [?] │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 🎯 A1. 활성 회원 세그먼트 조회                                 │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ 필터: [전체 회원유형 ▼] [지난 30일 ▼] [실행]              │  │
│ │                                                         │  │
│ │ 📊 회원유형별 분포                                       │  │
│ │     UKD001 ████████████████████ 63% (128,487명)         │  │
│ │     UKD002 ████ 8% (16,310명)                           │  │
│ │     UKD003 ██ 4% (8,155명)                              │  │
│ │     기타   ██████ 25% (50,932명)                         │  │
│ │                                                         │  │
│ │ 쿼리 실행: ✅ 성공 (1.2초) │ 결과: 203,884행            │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 🎯 A2. 전문과목별 분포 분석                                   │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ 📈 활성 vs 전체 회원 비교                                │  │
│ │                                                         │  │
│ │    내과    ████████ 15% vs 12% (+3%p)                   │  │
│ │    외과    ██████ 10% vs 9% (+1%p)                       │  │
│ │    정신과  ████████████ 18% vs 12% (+6%p) ⚠️ 높은 차이   │  │
│ │    소아과  ████ 6% vs 8% (-2%p)                          │  │
│ │                                                         │  │
│ │ 쿼리 실행: ✅ 성공 (2.1초) │ JOIN 최적화: ✅             │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 🎯 A3. 로그인 패턴 분석 (⚠️ 대용량 테이블)                    │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ LIMIT: [10000 ▼] 타임아웃: [30초 ▼]                     │  │
│ │                                                         │  │
│ │ 🕐 시간대별 로그인 분포                                  │  │
│ │ 06시 ██ 08시 ██████ 10시 ████████ 14시 ██████████       │  │
│ │ 18시 ████████ 20시 ██████ 22시 ████ 24시 ██             │  │
│ │                                                         │  │
│ │ 쿼리 실행: ✅ 성공 (8.7초) │ 처리량: 10,000/22,670,000  │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 📝 A4. 결과 해석 및 인사이트                                  │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ ✨ 핵심 발견사항                                         │  │
│ │ • UKD001 집중도 심화 (63%) - 다양화 전략 필요            │  │
│ │ • 정신과 전문의 활동도 +6%p - 트렌드 분석 권장           │  │
│ │ • 오전 10시 피크 (업무 시간 전 체크)                     │  │
│ │                                                         │  │
│ │ 💡 권장 액션                                             │  │
│ │ 1. [HIGH] UKD002/003 확대 캠페인                        │  │
│ │ 2. [MED] 정신과 특화 콘텐츠 강화                         │  │
│ │ 3. [LOW] 오전 시간대 알림 최적화                         │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

## 3. Phase B: 설계 문서 뷰어

```
┌──────────────────────────────────────────────────────────────┐
│ Phase B: 설계 문서                              [생성] [검토] │
├─────────┬────────────────────────────────────────────────────┤
│ 📁 문서  │                                                    │
│ ├─ IA    │ # IA.md - 분석 대시보드 정보 구조                   │
│ ├─ Wire  │                                                    │
│ ├─ SDD   │ ## 1. 메인 네비게이션                              │
│ └─ Hand  │ ```                                                │
│          │ 분석 시스템                                         │
│ 🔄 상태   │ ├── 세그먼트 분석                                   │
│ IA: ✅    │ ├── 분포 분석                                       │
│ Wire: ✅  │ ├── 패턴 분석                                       │
│ SDD: ⏳   │ └── 인사이트                                        │
│ Hand: ❌  │ ```                                                │
│          │                                                    │
│ 📋 검증   │ ## 2. 라우팅 구조                                   │
│ 레거시: ✅ │ /analytics-dashboard                               │
│ API: ⏳   │ ├── /segments ← USER_DETAIL.U_MAJOR_CODE_1         │
│ 보안: ❌  │ ├── /distribution ← JOIN with CODE_MASTER          │
│          │ ├── /patterns ← USER_LOGIN (LIMIT 필수)            │
│          │ └── /insights                                      │
│          │                                                    │
│ 🎯 HITL   │ ## 3. 데이터 매핑 (DOMAIN_SCHEMA 준수)             │
│ 체크포인트 │ - USERS: U_ID, U_KIND, U_ALIVE                     │
│ [승인대기] │ - USER_DETAIL: U_MAJOR_CODE_1, U_WORK_TYPE_1       │
│ 설계승인   │ - USER_LOGIN: LOGIN_DATE (⚠️ 대용량)               │
│          │                                                    │
└─────────┴────────────────────────────────────────────────────┘
```

## 4. Phase C: 코드 구현 현황

```
┌──────────────────────────────────────────────────────────────┐
│ Phase C: 코드 구현                              [빌드] [테스트] │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 🗂️ 파일 구조                                                 │
│ ┌──────────────────┬───────────────────────────────────────┐ │
│ │ Backend          │ Frontend                              │ │
│ │ ├─ controllers/  │ ├─ components/                        │ │
│ │ │  └─ analytics. │ │  ├─ AnalyticsDashboard.tsx ✅       │ │
│ │ ├─ services/     │ │  ├─ SegmentChart.tsx ✅             │ │
│ │ │  └─ analytics. │ │  ├─ LoginTrendChart.tsx ✅          │ │
│ │ ├─ repositories/ │ │  └─ FilterPanel.tsx ✅              │ │
│ │ │  └─ analytics. │ ├─ hooks/                            │ │
│ │ ├─ dto/          │ │  ├─ useAnalytics.ts ⏳              │ │
│ │ │  ├─ segment-q. │ │  └─ useCharts.ts ⏳                 │ │
│ │ │  └─ analytics. │ ├─ tests/                            │ │
│ │ └─ tests/        │ │  ├─ Dashboard.test.tsx ✅           │ │
│ │    └─ analytics. │ │  └─ Chart.test.tsx ⏳              │ │
│ └──────────────────┴───────────────────────────────────────┘ │
│                                                              │
│ 📊 진행 상황                                                  │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ 구현: [████████████████░░░░] 80% (16/20 파일)           │  │
│ │ 테스트: [████████████░░░░░░░░] 60% (12/20 파일)         │  │
│ │ 커버리지: 92% ✅ (목표 90% 이상)                        │  │
│ │ 타입체크: ✅ PASS │ 린트: ✅ PASS │ 빌드: ✅ PASS       │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ ⚠️ Output Validation                                         │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ Protected Path 보호: ✅ 통과                             │  │
│ │ DOMAIN_SCHEMA 준수: ✅ 통과                              │  │
│ │ TDD Red→Green: ✅ 통과                                   │  │
│ │ FSD 패턴: ✅ 통과                                        │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 📝 최근 로그                                                  │
│ • 15:45 - SegmentChart 컴포넌트 TDD 완료                     │
│ • 15:43 - analytics.service.ts 빌드 성공                    │
│ • 15:41 - 테스트 커버리지 92% 달성                           │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

## 5. 모니터링 대시보드

```
┌──────────────────────────────────────────────────────────────┐
│ 시스템 모니터링                                 [실시간] [알림] │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 🚦 파이프라인 상태                                            │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ Phase A → Phase B → Phase C → Review → Deploy          │  │
│ │   ✅        ✅        ⏳        ❌         ❌             │  │
│ │                                                         │  │
│ │ 현재 단계: Phase C 구현 중 (80% 진행)                    │  │
│ │ 다음 단계: Leader Review 대기                            │  │
│ │ 예상 완료: 16:20 (약 35분 후)                           │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 📈 시스템 메트릭                                              │
│ ┌───────────┬───────────┬───────────┬───────────────────┐    │
│ │ CPU 사용률 │ 메모리     │ 디스크 I/O │ 네트워크         │    │
│ │ 45%       │ 512/1024MB │ 23MB/s    │ 1.2Mbps         │    │
│ │ ✅ 정상    │ ⚠️ 주의    │ ✅ 정상    │ ✅ 정상          │    │
│ └───────────┴───────────┴───────────┴───────────────────┘    │
│                                                              │
│ 🎯 성공 지표 트래킹                                           │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ ✅ SQL 생성: 4/4 완료                                   │  │
│ │ ✅ 스키마 일치: 100% (DOMAIN_SCHEMA 준수)               │  │
│ │ ✅ 테스트 커버리지: 92% (90% 이상 달성)                 │  │
│ │ ✅ 빌드 성공: TypeScript 컴파일 통과                    │  │
│ │ ✅ HITL 트리거: 2/2 회 (쿼리검토, 설계승인)             │  │
│ │ ✅ 보안 위반: 0건                                       │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
│ 🔍 실행 로그 (최근 10건)                                      │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ 15:47:23 [INFO] Phase C: FilterPanel.tsx 생성 완료      │  │
│ │ 15:46:45 [INFO] 테스트 실행: Dashboard.test.tsx PASS    │  │
│ │ 15:46:12 [WARN] 메모리 사용률 50% 경고                  │  │
│ │ 15:45:38 [INFO] TDD: Red→Green→Refactor 사이클 완료     │  │
│ │ 15:44:55 [INFO] TypeScript 타입체크 통과                │  │
│ │ 15:44:22 [DEBUG] SQL 쿼리 캐시 히트: segment_query      │  │
│ │ 15:43:41 [INFO] Phase C: analytics.service.ts 구현     │  │
│ │ 15:42:18 [INFO] HITL 체크포인트: 설계 승인 완료         │  │
│ │ 15:41:33 [INFO] Phase B: HANDOFF.md 생성 완료          │  │
│ │ 15:40:47 [INFO] Phase A: 인사이트 리포트 생성 완료      │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

## 6. 반응형 레이아웃 (모바일)

```
┌──────────────────────────┐
│ 🔧 Orchestrator Valid.   │
│                    [☰]   │
├──────────────────────────┤
│                          │
│ 📊 진행상황              │
│ Phase A ✅ Phase B ⏳     │
│ [████████████░░░] 67%    │
│                          │
│ 📈 핵심 메트릭           │
│ ┌──────────┬───────────┐ │
│ │ 성공률   │ 실행시간   │ │
│ │ 95% ✅   │ 23분 ⚠️   │ │
│ └──────────┴───────────┘ │
│                          │
│ 🎯 Phase A 결과          │
│ UKD001: 63% (128K)       │
│ UKD002: 8% (16K)         │
│ [상세보기]               │
│                          │
│ 📝 Phase B 설계          │
│ IA: ✅ Wire: ✅           │
│ SDD: ⏳ Hand: ❌          │
│ [문서보기]               │
│                          │
│ 🔄 Phase C 구현          │
│ 구현: 80% 테스트: 60%     │
│ 커버리지: 92% ✅         │
│ [코드보기]               │
│                          │
│ ⚠️ 알림                  │
│ HITL 승인 대기 (1건)     │
│                          │
└──────────────────────────┘
```

## 7. 컴포넌트 데이터 바인딩

```typescript
// 각 화면의 데이터 매핑
interface DashboardData {
  pipeline: {
    phaseA: 'completed' | 'running' | 'pending'
    phaseB: 'completed' | 'running' | 'pending' 
    phaseC: 'completed' | 'running' | 'pending'
    progress: number // 0-100
  }
  metrics: {
    successRate: number
    executionTime: string
    memoryUsage: string
    hitlPending: number
  }
  successCriteria: {
    sqlGeneration: { current: number, total: number }
    schemaCompliance: number // percentage
    testCoverage: number // percentage
    buildStatus: 'PASS' | 'FAIL'
    hitlTriggers: { current: number, expected: number }
    securityViolations: number
  }
  recentActivity: Array<{
    timestamp: string
    message: string
    type: 'info' | 'warning' | 'error'
  }>
}

interface AnalysisData {
  segments: Array<{
    userType: string
    count: number
    percentage: number
  }>
  distribution: Array<{
    major: string
    active: number
    total: number
    difference: number
  }>
  loginPatterns: Array<{
    hour: number
    loginCount: number
  }>
  insights: Array<{
    priority: 'HIGH' | 'MED' | 'LOW'
    finding: string
    recommendation: string
  }>
}
```