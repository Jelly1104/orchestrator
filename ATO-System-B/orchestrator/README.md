````markdown
# System B: Orchestrator & HITL Platform

> **AI ì—ì´ì „íŠ¸ì™€ ì¸ê°„ì´ í˜‘ì—…í•˜ëŠ” Human-in-the-Loop ê°œë°œ í”Œë«í¼**

System BëŠ” ë‹¨ìˆœí•œ CLI ì‹¤í–‰ì„ ë„˜ì–´, **ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ(Viewer)**ì™€ **ìŠ¹ì¸ ì²´í¬í¬ì¸íŠ¸(HITL)**ë¥¼ í†µí•´ ì•ˆì „í•˜ê³  í†µì œ ê°€ëŠ¥í•œ AI ê°œë°œ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ“š 1. ì‹œìŠ¤í…œ êµ¬ì¡° (Architecture)

### 3-Layer Operating Model

ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒ 3ê°€ì§€ ìš”ì†Œì˜ ìœ ê¸°ì  ê²°í•©ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

1.  **ğŸ¤– Orchestrator (Core Logic)**
    - `orchestrator.js` ê¸°ë°˜ì˜ ì¤‘ì•™ ì œì–´ ì¥ì¹˜.
    - AI ì—ì´ì „íŠ¸(Leader, Sub, Analysis)ë¥¼ ì¡°ìœ¨í•˜ê³  ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
2.  **ğŸ‘€ Viewer (Dashboard)**
    - `localhost:3000`ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì›¹ ì¸í„°í˜ì´ìŠ¤.
    - ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸, ì‚°ì¶œë¬¼ ê²€í† , ìŠ¹ì¸/ê±°ë¶€ ë²„íŠ¼ì„ ì œê³µí•©ë‹ˆë‹¤.
3.  **ğŸš¦ HITL (Human-in-the-Loop)**
    - ì¤‘ìš”í•œ ì˜ì‚¬ê²°ì • ì‹œì (ì„¤ê³„, ë°°í¬ ë“±)ì— AIë¥¼ ì¼ì‹œ ì •ì§€ì‹œí‚¤ê³  ì‚¬ëŒì˜ ê°œì…ì„ ìš”ì²­í•©ë‹ˆë‹¤.

```mermaid
graph LR
    User[Developer] -->|Approve/Reject| Viewer[Viewer Dashboard]
    Viewer <-->|WebSocket| Orch[Orchestrator]
    Orch -->|Command| Agents[AI Agents]
    Agents -->|Create| Docs[Files & Code]

    subgraph "Safety Zone"
        Rules[.claude/rules]
        Workflows[.claude/workflows]
    end

    Orch -.->|Read Only| SafetyZone
```
````

---

## ğŸš€ 2. ì‹œì‘í•˜ê¸° (Getting Started)

### ì„¤ì¹˜ (Installation)

```bash
cd orchestrator
npm install
```

### ì‹¤í–‰ (Execution Flow)

System Bë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ **ë‘ ê°œì˜ í„°ë¯¸ë„**ì´ í•„ìš”í•©ë‹ˆë‹¤.

**Terminal 1: ë·°ì–´ ì‹¤í–‰ (ë¨¼ì € ì‹¤í–‰)**

```bash
npm run viewer
# ì ‘ì†: http://localhost:3000
```

**Terminal 2: ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì‹¤í–‰**

```bash
# ê¸°ë³¸ ì‹¤í–‰ (Interactive Mode)
node index.js

# íŠ¹ì • ì‘ì—… ì§€ì • ì‹¤í–‰
node index.js --task="ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬í˜„í•´ì¤˜"
```

---

## ğŸš¦ 3. HITL ì²´í¬í¬ì¸íŠ¸ (Approval Points)

ì‹œìŠ¤í…œì€ ë‹¤ìŒ 5ê°€ì§€ ìƒí™©ì—ì„œ **ìë™ìœ¼ë¡œ ë©ˆì¶”ê³  ë‹¹ì‹ ì˜ ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.**

| #   | ì²´í¬í¬ì¸íŠ¸          | íŠ¸ë¦¬ê±° ì¡°ê±´                   | ë‹¹ì‹ ì˜ ì—­í•  (Action)          |
| --- | ------------------- | ----------------------------- | ----------------------------- |
| 1   | **PRD_REVIEW**      | PRD í•„ìˆ˜ í•­ëª© ëˆ„ë½ ì‹œ         | PRD ë³´ì™„ í›„ ì¬ì‹œì‘ ìŠ¹ì¸       |
| 2   | **QUERY_REVIEW**    | ìœ„í—˜í•œ SQL(DELETE ë“±) ê°ì§€ ì‹œ | ì¿¼ë¦¬ ì•ˆì „ì„± ê²€í†  ë° ìŠ¹ì¸      |
| 3   | **DESIGN_APPROVAL** | ì„¤ê³„ ë¬¸ì„œ(SDD) ìƒì„± ì§í›„      | ì„¤ê³„ ë°©í–¥ì„± ê²€í†  ë° ìŠ¹ì¸      |
| 4   | **MANUAL_FIX**      | Review 3íšŒ ì—°ì† ì‹¤íŒ¨ ì‹œ       | ì‚¬ëŒì´ ì§ì ‘ ì½”ë“œ ìˆ˜ì • í›„ ì¬ê°œ |
| 5   | **DEPLOY_APPROVAL** | ëª¨ë“  êµ¬í˜„ ì™„ë£Œ í›„             | ìµœì¢… ì‚°ì¶œë¬¼ í™•ì¸ ë° ë°°í¬ ìŠ¹ì¸ |

---

## ğŸ“‚ 4. ë¬¸ì„œ ë° íŒŒì¼ êµ¬ì¡° (Directory Structure)

System BëŠ” `SYSTEM_MANIFEST.md`ì— ì •ì˜ëœ **ì—„ê²©í•œ í´ë” êµ¬ì¡°**ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

### 4.1 ì‹œìŠ¤í…œ ë£°ë¶ (Immutable Rules)

ì´ ê²½ë¡œì˜ íŒŒì¼ë“¤ì€ **AIê°€ ìˆ˜ì •í•  ìˆ˜ ì—†ìœ¼ë©°**, í”„ë¡œì íŠ¸ì˜ í—Œë²•ê³¼ ê°™ìŠµë‹ˆë‹¤.

| ê·¸ë£¹          | ê²½ë¡œ                 | ì£¼ìš” ë¬¸ì„œ              | ì—­í•                              |
| ------------- | -------------------- | ---------------------- | -------------------------------- |
| **Control**   | `.claude/`           | `SYSTEM_MANIFEST.md`   | ì‹œìŠ¤í…œ ì„¤ì • ë° íŒŒì¼ ë§¤í•‘ ì§€ë„    |
| **Rules**     | `.claude/rules/`     | `CODE_STYLE.md`        | ì½”ë”© ì»¨ë²¤ì…˜ ë° ë„¤ì´ë° ê·œì¹™       |
|               |                      | `DOMAIN_SCHEMA.md`     | **[ì¤‘ìš”]** DB ìŠ¤í‚¤ë§ˆ ë° ì œì•½ì‚¬í•­ |
|               |                      | `PROJECT_STACK.md`     | ê¸°ìˆ  ìŠ¤íƒ ì •ì˜                   |
| **Workflows** | `.claude/workflows/` | `DOCUMENT_PIPELINE.md` | ë¬¸ì„œ ìƒì„± ì ˆì°¨ (PRDâ†’SDD)         |
|               |                      | `INCIDENT_PLAYBOOK.md` | ì¥ì•  ëŒ€ì‘ ì ˆì°¨                   |
| **Context**   | `.claude/context/`   | `AI_Playbook.md`       | íŒ€ì˜ ì² í•™ ë° ëª©í‘œ                |

### 4.2 ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ë‚´ë¶€ êµ¬ì¡°

```text
orchestrator/
â”œâ”€â”€ index.js                # CLI ì§„ì…ì 
â”œâ”€â”€ orchestrator.js         # í•µì‹¬ ë¡œì§ (HITL ì œì–´)
â”œâ”€â”€ agents/                 # AI ì—ì´ì „íŠ¸ êµ¬í˜„ì²´ (Leader, Sub, Analysis)
â”œâ”€â”€ state/
â”‚   â””â”€â”€ session-store.js    # ì‘ì—… ìƒíƒœ ë° ì„¸ì…˜ ê´€ë¦¬
â”œâ”€â”€ viewer/                 # ì›¹ ëŒ€ì‹œë³´ë“œ ì„œë²„
â””â”€â”€ logs/
    â”œâ”€â”€ .hitl/              # ìŠ¹ì¸ ëŒ€ê¸° íŒŒì¼ ì €ì¥ì†Œ
    â””â”€â”€ {taskId}.json       # íƒœìŠ¤í¬ë³„ ì‹¤í–‰ ë¡œê·¸
```

---

## ğŸ› ï¸ 5. API ë° Viewer ì—°ë™

Viewerì™€ OrchestratorëŠ” REST APIì™€ WebSocketìœ¼ë¡œ í†µì‹ í•©ë‹ˆë‹¤.

### ì£¼ìš” API Endpoints

- `GET /api/sessions`: í™œì„± ì‘ì—… ëª©ë¡ ì¡°íšŒ
- `GET /api/hitl/queue`: ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ì‘ì—… ì¡°íšŒ
- `POST /api/tasks/:taskId/approve`: ì‘ì—… ìŠ¹ì¸ (Resume)
- `POST /api/tasks/:taskId/reject`: ì‘ì—… ê±°ë¶€ (Stop/Retry)

### ìˆ˜ë™ ì¡°ì‘ (Troubleshooting)

Viewerê°€ ì‘ë™í•˜ì§€ ì•Šì„ ê²½ìš°, CURLì„ í†µí•´ ì§ì ‘ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ìŠ¹ì¸(Approve) ì˜ˆì‹œ:**

```bash
curl -X POST http://localhost:3000/api/tasks/{taskId}/approve \
-H "Content-Type: application/json" \
-d '{"comment": "í„°ë¯¸ë„ì—ì„œ ìˆ˜ë™ ìŠ¹ì¸"}'
```

---

## ğŸ”’ 6. ë³´ì•ˆ ë° ì œì•½ ì‚¬í•­ (Security Constraints)

1.  **ë£°ë¶ ìˆ˜ì • ê¸ˆì§€:** `.claude/{rules, workflows, context}/*` ê²½ë¡œëŠ” ì½ê¸° ì „ìš©(Read-Only)ì…ë‹ˆë‹¤.
2.  **ë°ì´í„° ë³´í˜¸:** í”„ë¡œë•ì…˜ DBì— ëŒ€í•œ `INSERT/UPDATE/DELETE` ì¿¼ë¦¬ëŠ” ì°¨ë‹¨ë©ë‹ˆë‹¤.
3.  **ê²½ë¡œ íƒìƒ‰ ë°©ì§€:** `taskId`ë‚˜ íŒŒì¼ ê²½ë¡œì— `../`ë¥¼ í¬í•¨í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
4.  **í† í° ì œí•œ:** PRDëŠ” ìµœëŒ€ 50,000ì, Task ì„¤ëª…ì€ 10,000ìë¡œ ì œí•œë©ë‹ˆë‹¤.

---

## ğŸ”Œ 7. Multi-LLM Provider (Fallback Chain)

### 7.1 Provider êµ¬ì¡°

```text
orchestrator/providers/
â”œâ”€â”€ base.js          # ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ anthropic.js     # Claude API (Primary)
â”œâ”€â”€ openai.js        # GPT-4 API (Fallback #1)
â”œâ”€â”€ gemini.js        # Gemini API (Fallback #2)
â”œâ”€â”€ factory.js       # Provider Factory + Fallback Chain
â””â”€â”€ index.js         # í†µí•© ë‚´ë³´ë‚´ê¸°
```

### 7.2 Fallback Chain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Provider Fallback Chain                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     FAIL     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     FAIL     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚   Claude     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚   GPT-4o     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚ Gemini  â”‚ â”‚
â”‚    â”‚  (Primary)   â”‚              â”‚ (Fallback 1) â”‚              â”‚ (FB 2)  â”‚ â”‚
â”‚    â”‚  Streaming   â”‚              â”‚  16K tokens  â”‚              â”‚         â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚    í™˜ê²½ë³€ìˆ˜:                                                                  â”‚
â”‚    â€¢ ANTHROPIC_API_KEY (Claude)                                             â”‚
â”‚    â€¢ OPENAI_API_KEY (GPT-4o)                                                â”‚
â”‚    â€¢ GOOGLE_API_KEY (Gemini)                                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 Provider ì„¤ì •

```javascript
const orchestrator = new Orchestrator({
  provider: "anthropic",
  fallbackOrder: ["anthropic", "openai", "gemini"],
  useFallback: true,
  providerConfig: {
    anthropic: { model: "claude-sonnet-4-20250514", useStreaming: true },
    openai: { model: "gpt-4o" },
    gemini: { model: "gemini-pro" },
  },
});
```

### 7.4 ìŠ¤íŠ¸ë¦¬ë° ì§€ì›

| Provider      | ìŠ¤íŠ¸ë¦¬ë°     | ìµœëŒ€ ì¶œë ¥ í† í°  | ë¹„ê³                                         |
| ------------- | ------------ | --------------- | ------------------------------------------- |
| **Anthropic** | âœ… ê¸°ë³¸ í™œì„± | 64,000          | ì¥ì‹œê°„ ì‘ì—…ì— í•„ìˆ˜ (10ë¶„+ ì‹œ íƒ€ì„ì•„ì›ƒ ë°©ì§€) |
| **OpenAI**    | âŒ ë¯¸ì§€ì›    | 16,384 (gpt-4o) | ëª¨ë¸ë³„ í† í° ì œí•œ ìë™ ì ìš©                  |
| **Gemini**    | âŒ ë¯¸ì§€ì›    | 8,192           | Fallback ìš©ë„                               |

---

## âŒ¨ï¸ 8. CLI ì‚¬ìš©ë²•

### 8.1 ê¸°ë³¸ ì‹¤í–‰

```bash
# ê¸°ë³¸ ì‚¬ìš©
node orchestrator/index.js "ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„"

# PRD ê¸°ë°˜ êµ¬í˜„
node orchestrator/index.js --prd docs/PRD.md "ê¸°ëŠ¥ êµ¬í˜„"

# Dry-run (íŒŒì¼ ì €ì¥ ì—†ì´)
node orchestrator/index.js --no-save "í…ŒìŠ¤íŠ¸ ì‘ì—…"
```

### 8.2 ì˜µì…˜

| ì˜µì…˜                | ì„¤ëª…             | ê¸°ë³¸ê°’             |
| ------------------- | ---------------- | ------------------ |
| `--prd <path>`      | PRD íŒŒì¼ ê²½ë¡œ    | -                  |
| `--task-id <id>`    | ì‘ì—… ID ì§€ì •     | `task-{timestamp}` |
| `--no-save`         | íŒŒì¼ ì €ì¥ ì•ˆ í•¨  | false              |
| `--max-retries <n>` | ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ | 3 (ìƒí•œ 5)         |

### 8.3 í™˜ê²½ ì„¤ì •

```bash
# orchestrator/.env
ANTHROPIC_API_KEY="sk-ant-..."
OPENAI_API_KEY="sk-..."           # Optional (Fallback)
GOOGLE_API_KEY="..."              # Optional (Fallback)

ANTHROPIC_MODEL="claude-sonnet-4-20250514"
MAX_RETRIES=3
```

---

## ğŸ“Š 9. ë©”íŠ¸ë¦­ ì¶”ì 

OrchestratorëŠ” ë‹¤ìŒ ë©”íŠ¸ë¦­ì„ ìë™ ì¶”ì í•©ë‹ˆë‹¤:

| ë©”íŠ¸ë¦­               | ì„¤ëª…                                     |
| -------------------- | ---------------------------------------- |
| **ì´ ì†Œìš” ì‹œê°„**     | ì „ì²´ ì‘ì—… ì™„ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„             |
| **ë‹¨ê³„ë³„ ì†Œìš” ì‹œê°„** | Planning, Coding, Review ê° ë‹¨ê³„         |
| **í† í° ì‚¬ìš©ëŸ‰**      | Roleë³„ ì…ë ¥/ì¶œë ¥ í† í°                    |
| **ì¬ì‹œë„ íšŸìˆ˜**      | Review FAILë¡œ ì¸í•œ ì¬ì‹œë„                |
| **Provider ì‚¬ìš©**    | ì–´ë–¤ LLM Providerê°€ ì‚¬ìš©ë˜ì—ˆëŠ”ì§€         |
| **ë³´ì•ˆ ì´ë²¤íŠ¸**      | Path Traversal, Prompt Injection ì‹œë„ ë“± |

### 9.1 ë¡œê·¸ ì¶œë ¥ ê²½ë¡œ

```text
workspace/logs/<task-id>.json          # ì‹¤í–‰ ë©”íŠ¸ë¦­
workspace/logs/audit/audit-*.jsonl     # ë³´ì•ˆ ê°ì‚¬ ë¡œê·¸
```

---

## ğŸ”„ 10. ì¬ì‹œë„ ì •ì±…

| ìƒí™©                   | ë™ì‘                        |
| ---------------------- | --------------------------- |
| Review PASS            | ì‘ì—… ì™„ë£Œ                   |
| Review FAIL (1~4íšŒ)    | í”¼ë“œë°± ë°˜ì˜ í›„ ì¬ì‹œë„       |
| Review FAIL (5íšŒ ì´ˆê³¼) | ì‘ì—… ì¤‘ë‹¨, ì‚¬ìš©ì ê°œì… ìš”ì²­ |
| API ì—ëŸ¬               | Fallback Provider ì‹œë„      |
| ëª¨ë“  Provider ì‹¤íŒ¨     | ì—ëŸ¬ ë¡œê·¸ ê¸°ë¡, ì‘ì—… ì¤‘ë‹¨   |

---

## ğŸ”Œ 11. Extension ê²½ëŸ‰í™” Skills (Claude Code / VSCode)

System Bì˜ SkillsëŠ” Orchestrator ì™¸ì—ë„ **Claude Code Extension**ì—ì„œ ê²½ëŸ‰í™”ëœ í˜•íƒœë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 11.1 Orchestrator vs Extension

| êµ¬ë¶„ | Orchestrator | Extension |
|------|--------------|-----------|
| **ê²½ë¡œ** | `orchestrator/tools/{skill}/` | `.claude/skills/{skill}/` |
| **êµ¬ì„±** | SKILL.md + index.js + resources/ | SKILL.md (ë‹¨ë…) |
| **ì‹¤í–‰** | Node.js ì½”ë“œ ì‹¤í–‰ | LLM í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ |
| **ìš©ë„** | ìë™í™” íŒŒì´í”„ë¼ì¸, HITL | ëŒ€í™”í˜• ì‘ì—…, ë¹ ë¥¸ ë°˜ë³µ |

### 11.2 Extension Skills ëª©ë¡

```text
.claude/skills/
â”œâ”€â”€ leader/       # PRD â†’ HANDOFF ìƒì„±
â”œâ”€â”€ imleader/     # ì‚°ì¶œë¬¼ í’ˆì§ˆ ê²€ì¦
â”œâ”€â”€ designer/     # IA/Wireframe/SDD ì„¤ê³„
â”œâ”€â”€ coder/        # ì½”ë“œ êµ¬í˜„
â”œâ”€â”€ query/        # SQL ìƒì„±/ë¶„ì„
â”œâ”€â”€ profiler/     # ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„
â””â”€â”€ reviewer/     # PRD ì •í•©ì„± ê²€ì¦
```

### 11.3 ì‹¤í–‰ ì˜ˆì‹œ: analysis íŒŒì´í”„ë¼ì¸

ì•„ë˜ëŠ” ë°ì´í„° ë¶„ì„(analysis) íŒŒì´í”„ë¼ì¸ì„ Extensionì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.

---

**Step 0: PRD íŒŒì¼ ì‘ì„± ë° ì €ì¥**

`.claude/project/PRD.md` ë˜ëŠ” `docs/cases/{case-id}/PRD.md`ì— PRDë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

---

**Step 1: PRD ë¶„ì„ ë° HANDOFF ìƒì„±**

```
/leader PRD.md ê¸°ë°˜ìœ¼ë¡œ HANDOFF.md ìƒì„±í•´ì¤˜
```

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ [Leader Skill Report]
âœ… íŒŒì´í”„ë¼ì¸: analysis
âœ… í¬í•¨ Skill: query, profiler
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

**Step 2: SQL ì¿¼ë¦¬ ìƒì„±**

```
/query HANDOFF.md ê¸°ë°˜ìœ¼ë¡œ SQL ìƒì„±í•´ì¤˜
```

---

**Step 3: í”„ë¡œí•„ ë¶„ì„**

```
/profiler ì¿¼ë¦¬ ê²°ê³¼ ë¶„ì„í•´ì¤˜
```

---

**Step 4: í’ˆì§ˆ ê²€ì¦**

```
/reviewer ì‚°ì¶œë¬¼ ê²€ì¦í•´ì¤˜
```

---

### 11.4 ì‹¤í–‰ ì˜ˆì‹œ: ui_mockup íŒŒì´í”„ë¼ì¸

ì•„ë˜ëŠ” ì„¤ê³„â†’êµ¬í˜„(ui_mockup) íŒŒì´í”„ë¼ì¸ì„ Extensionì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.
ë¶„ì„(Phase A) ì—†ì´ ì„¤ê³„(Phase B) â†’ êµ¬í˜„(Phase C)ì„ ì§„í–‰í•©ë‹ˆë‹¤.

---

**Step 0: PRD íŒŒì¼ ì‘ì„±**

`.claude/project/PRD.md`ì— PRDë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. `pipeline: ui_mockup`ì„ ëª…ì‹œí•©ë‹ˆë‹¤.

---

**Step 1: PRD ë¶„ì„ ë° HANDOFF ìƒì„± (Leader)**

```
/leader PRD.md ê¸°ë°˜ìœ¼ë¡œ HANDOFF.md ìƒì„±í•´ì¤˜
```

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ [Leader Skill Report]
ğŸ”§ ì‚¬ìš©ëœ Skill: leader v1.0
ğŸ“š ì°¸ì¡° ë¬¸ì„œ: HANDOFF_PROTOCOL.md âœ… | PRD_GUIDE.md âœ…
ğŸ“¥ ì…ë ¥: PRD.md
ğŸ“¤ ì¶œë ¥: HANDOFF.md
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… íŒŒì´í”„ë¼ì¸: ui_mockup
âœ… í¬í•¨ Skill: designer â†’ coder
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

**Step 2: ì„¤ê³„ ë¬¸ì„œ ìƒì„± (Designer)**

```
/designer HANDOFF.md ê¸°ë°˜ìœ¼ë¡œ IA.md, Wireframe.md, SDD.md ìƒì„±í•´ì¤˜
```

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ [Designer Skill Report]
ğŸ”§ ì‚¬ìš©ëœ Skill: designer v2.4
ğŸ“š ì°¸ì¡° ë¬¸ì„œ: IA_TEMPLATE.md âœ… | WF_TEMPLATE.md âœ… | SDD_TEMPLATE.md âœ…
ğŸ“¥ ì…ë ¥: HANDOFF.md
ğŸ“¤ ì¶œë ¥: IA.md, Wireframe.md, SDD.md
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… IA: 1ê°œ í™”ë©´ ì •ì˜
âœ… Wireframe: ASCII ë ˆì´ì•„ì›ƒ í¬í•¨
âœ… SDD: ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì—°ê²° ì„¹ì…˜ í¬í•¨
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

> âš ï¸ **SDD í•„ìˆ˜**: ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì—°ê²° ì„¹ì…˜(ì„¹ì…˜ 5)ì´ ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

---

**Step 3: ì½”ë“œ êµ¬í˜„ (Coder)**

```
/coder SDD.md ê¸°ë°˜ìœ¼ë¡œ React ì»´í¬ë„ŒíŠ¸ êµ¬í˜„í•´ì¤˜
```

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ [Coder Skill Report]
ğŸ”§ ì‚¬ìš©ëœ Skill: coder v1.5
ğŸ“š ì°¸ì¡° ë¬¸ì„œ: SDD.md âœ… | CODE_STYLE.md âœ…
ğŸ“¥ ì…ë ¥: SDD.md
ğŸ“¤ ì¶œë ¥: React ì»´í¬ë„ŒíŠ¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ì»´í¬ë„ŒíŠ¸: SkillsDashboard.tsx
âœ… íƒ€ì… ì •ì˜: types.ts
âœ… ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì—°ê²°: main.tsx ìˆ˜ì •
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

**Step 4: ë™ì  ê²€ì¦ (ImLeader)**

```
/imleader ì½”ë“œ ê²€ì¦í•´ì¤˜ (ë¹Œë“œ/ì—”íŠ¸ë¦¬í¬ì¸íŠ¸/êµ¬ë™)
```

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ [ImLeader Skill Report]
ğŸ”§ ì‚¬ìš©ëœ Skill: imleader v1.1
ğŸ“¥ ì…ë ¥: ì½”ë“œ ì‚°ì¶œë¬¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ë¹Œë“œ í…ŒìŠ¤íŠ¸: npm run build PASS
âœ… ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì—°ê²°: main.tsx import í™•ì¸
âœ… êµ¬ë™ í…ŒìŠ¤íŠ¸: npm run dev ë Œë”ë§ í™•ì¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š ë™ì  ê²€ì¦: PASS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

> âš ï¸ **ë™ì  ê²€ì¦ í•„ìˆ˜**: Phase C ì™„ë£Œ ì‹œ ë°˜ë“œì‹œ ë¹Œë“œ/ì—”íŠ¸ë¦¬í¬ì¸íŠ¸/êµ¬ë™ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

---

### 11.5 íŒŒì´í”„ë¼ì¸ë³„ Skill ìˆœì„œ

| íŒŒì´í”„ë¼ì¸ | Phase | Skill ìˆœì„œ |
|------------|-------|------------|
| `analysis` | Aë§Œ | `/leader` â†’ `/query` â†’ `/profiler` â†’ `/reviewer` |
| `design` | Bë§Œ | `/leader` â†’ `/designer` â†’ `/reviewer` |
| `code` | Cë§Œ | `/leader` â†’ `/coder` â†’ `/imleader` |
| `ui_mockup` | Bâ†’C | `/leader` â†’ `/designer` â†’ `/coder` â†’ `/imleader` |
| `analyzed_design` | Aâ†’B | `/leader` â†’ `/query` â†’ `/profiler` â†’ `/designer` â†’ `/reviewer` |
| `full` | Aâ†’Bâ†’C | `/leader` â†’ `/query` â†’ `/profiler` â†’ `/designer` â†’ `/coder` â†’ `/imleader` |

---

### 11.6 ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ ìš”ì•½

| ì»¤ë§¨ë“œ | ì—­í•  | ì…ë ¥ (íŒŒì¼ ì„ íƒ) | ì¶œë ¥ |
|--------|------|-----------------|------|
| `/leader` | PRD ë¶„ì„ | PRD.md | HANDOFF.md |
| `/designer` | ì„¤ê³„ ë¬¸ì„œ | HANDOFF.md | IA.md, Wireframe.md, SDD.md |
| `/query` | SQL ìƒì„± | HANDOFF.md | *.sql íŒŒì¼ë“¤ |
| `/profiler` | ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„ | ì¿¼ë¦¬ ê²°ê³¼ | í”„ë¡œí•„ ë¦¬í¬íŠ¸ |
| `/coder` | ì½”ë“œ êµ¬í˜„ | SDD.md | React ì»´í¬ë„ŒíŠ¸, ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì—°ê²° |
| `/reviewer` | í’ˆì§ˆ ê²€ì¦ | ì‚°ì¶œë¬¼ í´ë” | ê²€ì¦ ê²°ê³¼ |
| `/imleader` | ë™ì  ê²€ì¦ | ì½”ë“œ ì‚°ì¶œë¬¼ | ë¹Œë“œ/ì—”íŠ¸ë¦¬í¬ì¸íŠ¸/êµ¬ë™ PASS/FAIL |

### 11.7 íŒŒì¼ êµ¬ì¡° ì˜ˆì‹œ

**analysis íŒŒì´í”„ë¼ì¸**

```text
docs/cases/active-user-dashboard/
â”œâ”€â”€ PRD.md              # Step 0: ì‚¬ìš©ì ì‘ì„±
â”œâ”€â”€ HANDOFF.md          # Step 1: /leader ìƒì„±
â””â”€â”€ analysis/
    â”œâ”€â”€ analysis_report.md
    â””â”€â”€ results/
        â”œâ”€â”€ active_doctors.sql
        â”œâ”€â”€ login_distribution.sql
        â””â”€â”€ major_distribution.sql
```

**ui_mockup íŒŒì´í”„ë¼ì¸**

```text
docs/cases/260106-skills-pipeline-test/
â”œâ”€â”€ PRD.md              # Step 0: ì‚¬ìš©ì ì‘ì„±
â”œâ”€â”€ HANDOFF.md          # Step 1: /leader ìƒì„±
â”œâ”€â”€ IA.md               # Step 2: /designer ìƒì„±
â”œâ”€â”€ Wireframe.md        # Step 2: /designer ìƒì„±
â”œâ”€â”€ SDD.md              # Step 2: /designer ìƒì„± (ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì„¹ì…˜ í•„ìˆ˜)
â””â”€â”€ (ì½”ë“œëŠ” frontend/src/features/{feature}/ ì— ìƒì„±)

frontend/src/features/skills-dashboard/
â”œâ”€â”€ SkillsDashboard.tsx # Step 3: /coder ìƒì„±
â”œâ”€â”€ types.ts            # Step 3: /coder ìƒì„±
â””â”€â”€ index.ts            # Step 3: /coder ìƒì„±

frontend/src/main.tsx   # Step 3: /coder ìˆ˜ì • (ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì—°ê²°)
```

---

**System B Team**
_Quality is not an act, it is a habit._
