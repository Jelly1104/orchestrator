{
  "taskId": "case7-muzzima-podcast-20251226",
  "prdPath": "# PRD: 메디게이트 무찌마 일간 베스트 팟캐스트 (Daily Briefing)\n\n| 항목          | 내용                                                |\n| ------------- | --------------------------------------------------- |\n| **Case ID**   | case7-muzzima-podcast-20251226                      |\n| **PRD 버전**  | 3.0.0                                               |\n| **작성일**    | 2025-12-30                                          |\n| **작성자**    | ATO Team                                            |\n| **Type**      | MIXED                                               |\n| **Pipeline**  | mixed                                               |\n| **참조 문서** | PRD_GUIDE.md, DOMAIN_SCHEMA.md, DB_ACCESS_POLICY.md |\n\n---\n\n## 1. 목적 (Objective)\n\n의사 커뮤니티 '무찌마'의 지난 24시간 내 인기 게시물을 분석 및 요약하여, **2인 대화(Host-Guest) 형식의 팟캐스트 대본**으로 변환함으로써 바쁜 의사 회원들이 이동 중 오디오로 트렌드를 소비할 수 있게 한다.\n\n> **요약**: \"무찌마 인기 게시물을 분석하여 3분 팟캐스트 대본을 생성한다\"\n\n---\n\n## 2. 타겟 유저 (Target User)\n\n| 항목              | 설명                                                                    |\n| ----------------- | ----------------------------------------------------------------------- |\n| **Persona**       | 진료와 학회 일정으로 커뮤니티를 정독할 시간이 부족한 3040 봉직의/개원의 |\n| **Pain Point**    | 하루 10분도 커뮤니티 확인 시간이 없음, 텍스트 피로감                    |\n| **Needs**         | \"오늘 동료 의사들 사이에서 가장 핫한 이슈\"를 3분 내외의 오디오로 파악   |\n| **사용 시나리오** | 출퇴근 운전 중, 점심시간 이동 중, 운동 중 이어폰으로 청취               |\n\n---\n\n## 3. 핵심 기능 (Core Features)\n\n| ID  | Phase | 기능명           | 설명                                                                       | 검증 방법                          |\n| --- | ----- | ---------------- | -------------------------------------------------------------------------- | ---------------------------------- |\n| F1  | A     | 일간 베스트 추출 | 최근 24시간 BOARD_MUZZIMA 중 `(READ_CNT + AGREE_CNT*3)` 기준 상위 5건 선정 | SQL 실행 결과 5건 반환 확인        |\n| F2  | A     | PII 전처리       | 게시물 본문 내 환자명, 의사 실명, 병원명 마스킹                            | 마스킹 패턴 적용 확인 (`***` 치환) |\n| F3  | B     | 대본 생성        | 요약된 내용을 2인 대화(Host/Guest) 형식의 구어체 스크립트로 변환           | 대본 내 호칭(Host:/Guest:) 존재    |\n| F4  | B     | 메타데이터 생성  | TTS용 감정 태그 및 발화 속도 가이드 포함                                   | JSON 스키마 유효성                 |\n| F5  | C     | Web UI           | 브라우저에서 대본 생성 및 결과 확인 가능한 웹 인터페이스                   | localhost 접속 시 UI 렌더링        |\n| F6  | C     | TTS 음성 재생    | 생성된 대본을 음성으로 변환하여 브라우저에서 재생                          | 재생 버튼 클릭 시 음성 출력        |\n| F7  | C     | 화자 구분 음성   | Host/Guest 각각 다른 음색으로 TTS 재생                                     | 두 가지 음색 구분 가능             |\n\n---\n\n## 4. 성공 지표 (Success Criteria)\n\n### 4.1 정량적 지표 (Phase A - 자동 검증)\n\n| 지표             | 목표값 | 측정 방법         | 실패 시 조치     |\n| ---------------- | ------ | ----------------- | ---------------- |\n| SQL 실행 시간    | < 3초  | `EXPLAIN ANALYZE` | 인덱스 힌트 추가 |\n| SELECT \\* 발생률 | 0%     | SQL 정적 분석     | 쿼리 수정 필수   |\n| 결과 행 수       | 5건    | COUNT 체크        | LIMIT 조정       |\n| PII 마스킹률     | 100%   | 패턴 매칭 검증    | 2차 마스킹 수행  |\n\n### 4.2 정성적 지표 (Phase B - HITL 검증)\n\n| 지표              | 판단 기준                               | 검증자                     |\n| ----------------- | --------------------------------------- | -------------------------- |\n| 구어체 자연스러움 | \"읽는 글\"이 아닌 \"듣는 말\"로 느껴지는가 | Human Reviewer             |\n| 정보 전달력       | 원문 핵심 내용이 누락 없이 전달되는가   | Human Reviewer             |\n| PII 완전 제거     | 최종 대본에 식별 가능 정보가 없는가     | Human Reviewer             |\n| 대본 길이         | TTS 변환 시 2분 30초 ~ 3분 30초         | 단어 수 측정 (400~550단어) |\n\n---\n\n## 5. PRD 유형 및 파이프라인\n\n```yaml\ntype: MIXED\npipeline: mixed\nrationale: \"SQL을 통한 정량적 데이터 확보(Phase A)가 선행되어야 대본 작성(Phase B)이 가능하고, 최종적으로 Web UI와 TTS 재생(Phase C)으로 사용자에게 전달함\"\n\nphases:\n  - id: A\n    name: Analysis\n    agent: AnalysisAgent\n    input: PRD + DOMAIN_SCHEMA.md\n    output: SQL, raw_data_summary.json\n\n  - id: B\n    name: Design\n    agent: LeaderAgent\n    input: Phase A 결과물\n    output: Podcast_Script.md, Audio_Metadata.json\n\n  - id: C\n    name: Implementation\n    agent: CoderAgent\n    input: Phase B 결과물 + HANDOFF.md\n    output:\n      - Express.js 백엔드 API\n      - Web UI (HTML/CSS/JS)\n      - TTS 음성 재생 기능\n```\n\n---\n\n## 6. 데이터 요구사항 (Data Requirements)\n\n### 6.1 대상 테이블\n\n```yaml\ndata_requirements:\n  tables:\n    - name: BOARD_MUZZIMA\n      columns:\n        [\n          BOARD_IDX,\n          CTG_CODE,\n          U_ID,\n          TITLE,\n          CONTENT,\n          READ_CNT,\n          AGREE_CNT,\n          REG_DATE,\n        ]\n      row_count: 3,370,000\n      risk_level: HIGH\n      index_columns: [CTG_CODE, REG_DATE]\n\n    - name: COMMENT\n      columns: [COMMENT_IDX, BOARD_IDX, SVC_CODE, CONTENT, REG_DATE]\n      row_count: 18,260,000\n      risk_level: EXTREME\n      usage: optional (댓글 수 집계용)\n\ndb_connection:\n  host: \"222.122.26.242\"\n  database: \"medigate\"\n  account: \"ai_readonly\"\n  permission: SELECT_ONLY\n```\n\n### 6.2 SQL 제약 사항\n\n| #   | 제약 사항                                         | 검증 방법             |\n| --- | ------------------------------------------------- | --------------------- |\n| 1   | `WHERE REG_DATE >= NOW() - INTERVAL 24 HOUR` 필수 | SQL 파싱              |\n| 2   | `LIMIT 10` 이하                                   | SQL 파싱              |\n| 3   | `SELECT *` 금지                                   | 정규식 매칭           |\n| 4   | `CONTENT` 전체 조회 시 `LEFT(CONTENT, 500)` 권장  | WARNING               |\n| 5   | 민감 컬럼(U_NAME, U_EMAIL 등) 조회 금지           | DB_ACCESS_POLICY 참조 |\n\n---\n\n## 7. 레퍼런스 서비스 (Reference)\n\n| 서비스              | 참고 패턴              | 적용 포인트                           |\n| ------------------- | ---------------------- | ------------------------------------- |\n| **The Daily (NYT)** | 2인 대화 팟캐스트      | Host-Guest 대화 구조, 자연스러운 호흡 |\n| **뉴닉 (NEWNEEK)**  | 콘텐츠 큐레이션 + 요약 | 핵심만 추출, MZ 친화적 톤앤매너       |\n| **요약봇 서비스**   | 긴 글 3줄 요약         | 정보 압축 기법                        |\n\n---\n\n## 8. 산출물 체크리스트 (Deliverables)\n\n### Phase A (Analysis) - AnalysisAgent\n\n```yaml\ndeliverables:\n  - name: \"best_posts_query.sql\"\n    type: SQL_QUERY\n    criteria:\n      - SELECT문만 사용\n      - DOMAIN_SCHEMA.md 컬럼명 정확 사용\n      - 인덱스 활용 WHERE 조건 포함\n      - LIMIT 10 이하\n    validation: VALIDATION_GUIDE.md 섹션 2.1\n\n  - name: \"raw_data_summary.json\"\n    type: ANALYSIS_TABLE\n    criteria:\n      - 상위 5개 게시물 정보 포함\n      - PII 1차 마스킹 완료\n      - 필수 필드: title, summary, view_count, agree_count, comment_count\n    validation: JSON 스키마 검증\n```\n\n### Phase B (Design) - LeaderAgent\n\n```yaml\ndeliverables:\n  - name: \"Podcast_Script.md\"\n    type: REPORT\n    criteria:\n      - Host/Guest 대화 형식\n      - 구어체 사용 (문어체 금지)\n      - 총 단어 수 400~550\n      - PII 완전 제거\n    validation: Human Review (HITL)\n\n  - name: \"Audio_Metadata.json\"\n    type: METADATA\n    criteria:\n      - emotion_tags 배열 존재\n      - speaking_rate 값 존재 (0.8~1.2)\n      - total_duration_estimate 존재\n    validation: JSON 스키마 검증\n\n  - name: \"Content_Safety_Check.md\"\n    type: REPORT\n    criteria:\n      - PII 검증 결과 포함\n      - 민감 표현 검토 결과 포함\n      - Reviewer 서명\n    validation: Human Review (HITL)\n```\n\n### Phase C (Implementation) - CoderAgent\n\n```yaml\ndeliverables:\n  - name: \"Express.js Backend\"\n    type: SOURCE_CODE\n    location: \"backend/src/\"\n    criteria:\n      - TypeScript strict mode\n      - POST /api/v1/podcast/daily-best API\n      - TDD 테스트 커버리지 ≥ 90%\n      - DOMAIN_SCHEMA.md 컬럼명 준수\n    validation: npm run test && npm run type-check\n\n  - name: \"Web UI\"\n    type: SOURCE_CODE\n    location: \"backend/public/index.html\"\n    criteria:\n      - 대본 생성 버튼\n      - 생성된 대본 표시 (Host/Guest 구분)\n      - 원본 게시글 목록 표시 (PII 마스킹)\n      - 메타데이터 표시\n    validation: 브라우저 렌더링 확인\n\n  - name: \"TTS Player\"\n    type: SOURCE_CODE\n    location: \"backend/public/index.html (내장)\"\n    criteria:\n      - 재생/일시정지/정지 컨트롤\n      - Host/Guest 음색 구분 (pitch 차이)\n      - 세그먼트별 순차 재생\n      - 현재 재생 위치 하이라이트\n    validation: TTS 재생 테스트\n    tech_option:\n      - Web Speech API (브라우저 내장, 무료, 권장)\n      - Google Cloud TTS (고품질, 유료)\n      - Naver Clova Voice (한국어 특화, 유료)\n```\n\n---\n\n## 9. 제약사항 (Constraints)\n\n| 카테고리     | 항목       | 설명                                          |\n| ------------ | ---------- | --------------------------------------------- |\n| **보안**     | PII 마스킹 | 환자명, 의사 실명, 병원명, 연락처 마스킹 필수 |\n| **보안**     | DB 접근    | `DB_ACCESS_POLICY.md` 준수, SELECT만 허용     |\n| **성능**     | 쿼리 제한  | 대용량 테이블 Full Scan 금지                  |\n| **규격**     | 대본 길이  | TTS 변환 시 3분 (400~550 단어)                |\n| **톤앤매너** | 구어체     | 존댓말, 자연스러운 대화체                     |\n\n---\n\n## 10. HITL 체크포인트\n\n| Phase  | 체크포인트     | 승인 조건                        | 실패 시        |\n| ------ | -------------- | -------------------------------- | -------------- |\n| A→B    | SQL 결과 검증  | 5건 추출, PII 마스킹 확인        | Phase A 재실행 |\n| B→C    | 대본 품질 검증 | 구어체 자연스러움, PII 완전 제거 | 대본 수정 요청 |\n| C 완료 | 구현 검증      | 서버 실행, UI 렌더링, TTS 재생   | 코드 수정 요청 |\n| 최종   | 안전성 검증    | Content_Safety_Check 통과        | 배포 보류      |\n\n---\n\n## 변경 이력\n\n| 버전  | 날짜       | 변경 내용                                                                                                 |\n| ----- | ---------- | --------------------------------------------------------------------------------------------------------- |\n| 3.0.0 | 2025-12-30 | Phase C 추가: Web UI(F5), TTS 음성 재생(F6), 화자 구분 음성(F7), CoderAgent 산출물 정의                   |\n| 2.0.0 | 2025-12-29 | PRD_GUIDE.md v2.1 기준 전면 개정, YAML 형식 정규화, 성공 지표 정량화, 레퍼런스 추가, HITL 체크포인트 명시 |\n| 1.1.0 | 2025-12-26 | 초기 버전                                                                                                 |\n\n---\n\n**END OF PRD**\n",
  "status": "RUNNING",
  "currentPhase": "initialized",
  "currentCheckpoint": null,
  "createdAt": "2025-12-30T06:29:56.606Z",
  "updatedAt": "2025-12-30T06:29:56.608Z",
  "history": [
    {
      "event": "SESSION_CREATED",
      "data": {
        "prdPath": "# PRD: 메디게이트 무찌마 일간 베스트 팟캐스트 (Daily Briefing)\n\n| 항목          | 내용                                                |\n| ------------- | --------------------------------------------------- |\n| **Case ID**   | case7-muzzima-podcast-20251226                      |\n| **PRD 버전**  | 3.0.0                                               |\n| **작성일**    | 2025-12-30                                          |\n| **작성자**    | ATO Team                                            |\n| **Type**      | MIXED                                               |\n| **Pipeline**  | mixed                                               |\n| **참조 문서** | PRD_GUIDE.md, DOMAIN_SCHEMA.md, DB_ACCESS_POLICY.md |\n\n---\n\n## 1. 목적 (Objective)\n\n의사 커뮤니티 '무찌마'의 지난 24시간 내 인기 게시물을 분석 및 요약하여, **2인 대화(Host-Guest) 형식의 팟캐스트 대본**으로 변환함으로써 바쁜 의사 회원들이 이동 중 오디오로 트렌드를 소비할 수 있게 한다.\n\n> **요약**: \"무찌마 인기 게시물을 분석하여 3분 팟캐스트 대본을 생성한다\"\n\n---\n\n## 2. 타겟 유저 (Target User)\n\n| 항목              | 설명                                                                    |\n| ----------------- | ----------------------------------------------------------------------- |\n| **Persona**       | 진료와 학회 일정으로 커뮤니티를 정독할 시간이 부족한 3040 봉직의/개원의 |\n| **Pain Point**    | 하루 10분도 커뮤니티 확인 시간이 없음, 텍스트 피로감                    |\n| **Needs**         | \"오늘 동료 의사들 사이에서 가장 핫한 이슈\"를 3분 내외의 오디오로 파악   |\n| **사용 시나리오** | 출퇴근 운전 중, 점심시간 이동 중, 운동 중 이어폰으로 청취               |\n\n---\n\n## 3. 핵심 기능 (Core Features)\n\n| ID  | Phase | 기능명           | 설명                                                                       | 검증 방법                          |\n| --- | ----- | ---------------- | -------------------------------------------------------------------------- | ---------------------------------- |\n| F1  | A     | 일간 베스트 추출 | 최근 24시간 BOARD_MUZZIMA 중 `(READ_CNT + AGREE_CNT*3)` 기준 상위 5건 선정 | SQL 실행 결과 5건 반환 확인        |\n| F2  | A     | PII 전처리       | 게시물 본문 내 환자명, 의사 실명, 병원명 마스킹                            | 마스킹 패턴 적용 확인 (`***` 치환) |\n| F3  | B     | 대본 생성        | 요약된 내용을 2인 대화(Host/Guest) 형식의 구어체 스크립트로 변환           | 대본 내 호칭(Host:/Guest:) 존재    |\n| F4  | B     | 메타데이터 생성  | TTS용 감정 태그 및 발화 속도 가이드 포함                                   | JSON 스키마 유효성                 |\n| F5  | C     | Web UI           | 브라우저에서 대본 생성 및 결과 확인 가능한 웹 인터페이스                   | localhost 접속 시 UI 렌더링        |\n| F6  | C     | TTS 음성 재생    | 생성된 대본을 음성으로 변환하여 브라우저에서 재생                          | 재생 버튼 클릭 시 음성 출력        |\n| F7  | C     | 화자 구분 음성   | Host/Guest 각각 다른 음색으로 TTS 재생                                     | 두 가지 음색 구분 가능             |\n\n---\n\n## 4. 성공 지표 (Success Criteria)\n\n### 4.1 정량적 지표 (Phase A - 자동 검증)\n\n| 지표             | 목표값 | 측정 방법         | 실패 시 조치     |\n| ---------------- | ------ | ----------------- | ---------------- |\n| SQL 실행 시간    | < 3초  | `EXPLAIN ANALYZE` | 인덱스 힌트 추가 |\n| SELECT \\* 발생률 | 0%     | SQL 정적 분석     | 쿼리 수정 필수   |\n| 결과 행 수       | 5건    | COUNT 체크        | LIMIT 조정       |\n| PII 마스킹률     | 100%   | 패턴 매칭 검증    | 2차 마스킹 수행  |\n\n### 4.2 정성적 지표 (Phase B - HITL 검증)\n\n| 지표              | 판단 기준                               | 검증자                     |\n| ----------------- | --------------------------------------- | -------------------------- |\n| 구어체 자연스러움 | \"읽는 글\"이 아닌 \"듣는 말\"로 느껴지는가 | Human Reviewer             |\n| 정보 전달력       | 원문 핵심 내용이 누락 없이 전달되는가   | Human Reviewer             |\n| PII 완전 제거     | 최종 대본에 식별 가능 정보가 없는가     | Human Reviewer             |\n| 대본 길이         | TTS 변환 시 2분 30초 ~ 3분 30초         | 단어 수 측정 (400~550단어) |\n\n---\n\n## 5. PRD 유형 및 파이프라인\n\n```yaml\ntype: MIXED\npipeline: mixed\nrationale: \"SQL을 통한 정량적 데이터 확보(Phase A)가 선행되어야 대본 작성(Phase B)이 가능하고, 최종적으로 Web UI와 TTS 재생(Phase C)으로 사용자에게 전달함\"\n\nphases:\n  - id: A\n    name: Analysis\n    agent: AnalysisAgent\n    input: PRD + DOMAIN_SCHEMA.md\n    output: SQL, raw_data_summary.json\n\n  - id: B\n    name: Design\n    agent: LeaderAgent\n    input: Phase A 결과물\n    output: Podcast_Script.md, Audio_Metadata.json\n\n  - id: C\n    name: Implementation\n    agent: CoderAgent\n    input: Phase B 결과물 + HANDOFF.md\n    output:\n      - Express.js 백엔드 API\n      - Web UI (HTML/CSS/JS)\n      - TTS 음성 재생 기능\n```\n\n---\n\n## 6. 데이터 요구사항 (Data Requirements)\n\n### 6.1 대상 테이블\n\n```yaml\ndata_requirements:\n  tables:\n    - name: BOARD_MUZZIMA\n      columns:\n        [\n          BOARD_IDX,\n          CTG_CODE,\n          U_ID,\n          TITLE,\n          CONTENT,\n          READ_CNT,\n          AGREE_CNT,\n          REG_DATE,\n        ]\n      row_count: 3,370,000\n      risk_level: HIGH\n      index_columns: [CTG_CODE, REG_DATE]\n\n    - name: COMMENT\n      columns: [COMMENT_IDX, BOARD_IDX, SVC_CODE, CONTENT, REG_DATE]\n      row_count: 18,260,000\n      risk_level: EXTREME\n      usage: optional (댓글 수 집계용)\n\ndb_connection:\n  host: \"222.122.26.242\"\n  database: \"medigate\"\n  account: \"ai_readonly\"\n  permission: SELECT_ONLY\n```\n\n### 6.2 SQL 제약 사항\n\n| #   | 제약 사항                                         | 검증 방법             |\n| --- | ------------------------------------------------- | --------------------- |\n| 1   | `WHERE REG_DATE >= NOW() - INTERVAL 24 HOUR` 필수 | SQL 파싱              |\n| 2   | `LIMIT 10` 이하                                   | SQL 파싱              |\n| 3   | `SELECT *` 금지                                   | 정규식 매칭           |\n| 4   | `CONTENT` 전체 조회 시 `LEFT(CONTENT, 500)` 권장  | WARNING               |\n| 5   | 민감 컬럼(U_NAME, U_EMAIL 등) 조회 금지           | DB_ACCESS_POLICY 참조 |\n\n---\n\n## 7. 레퍼런스 서비스 (Reference)\n\n| 서비스              | 참고 패턴              | 적용 포인트                           |\n| ------------------- | ---------------------- | ------------------------------------- |\n| **The Daily (NYT)** | 2인 대화 팟캐스트      | Host-Guest 대화 구조, 자연스러운 호흡 |\n| **뉴닉 (NEWNEEK)**  | 콘텐츠 큐레이션 + 요약 | 핵심만 추출, MZ 친화적 톤앤매너       |\n| **요약봇 서비스**   | 긴 글 3줄 요약         | 정보 압축 기법                        |\n\n---\n\n## 8. 산출물 체크리스트 (Deliverables)\n\n### Phase A (Analysis) - AnalysisAgent\n\n```yaml\ndeliverables:\n  - name: \"best_posts_query.sql\"\n    type: SQL_QUERY\n    criteria:\n      - SELECT문만 사용\n      - DOMAIN_SCHEMA.md 컬럼명 정확 사용\n      - 인덱스 활용 WHERE 조건 포함\n      - LIMIT 10 이하\n    validation: VALIDATION_GUIDE.md 섹션 2.1\n\n  - name: \"raw_data_summary.json\"\n    type: ANALYSIS_TABLE\n    criteria:\n      - 상위 5개 게시물 정보 포함\n      - PII 1차 마스킹 완료\n      - 필수 필드: title, summary, view_count, agree_count, comment_count\n    validation: JSON 스키마 검증\n```\n\n### Phase B (Design) - LeaderAgent\n\n```yaml\ndeliverables:\n  - name: \"Podcast_Script.md\"\n    type: REPORT\n    criteria:\n      - Host/Guest 대화 형식\n      - 구어체 사용 (문어체 금지)\n      - 총 단어 수 400~550\n      - PII 완전 제거\n    validation: Human Review (HITL)\n\n  - name: \"Audio_Metadata.json\"\n    type: METADATA\n    criteria:\n      - emotion_tags 배열 존재\n      - speaking_rate 값 존재 (0.8~1.2)\n      - total_duration_estimate 존재\n    validation: JSON 스키마 검증\n\n  - name: \"Content_Safety_Check.md\"\n    type: REPORT\n    criteria:\n      - PII 검증 결과 포함\n      - 민감 표현 검토 결과 포함\n      - Reviewer 서명\n    validation: Human Review (HITL)\n```\n\n### Phase C (Implementation) - CoderAgent\n\n```yaml\ndeliverables:\n  - name: \"Express.js Backend\"\n    type: SOURCE_CODE\n    location: \"backend/src/\"\n    criteria:\n      - TypeScript strict mode\n      - POST /api/v1/podcast/daily-best API\n      - TDD 테스트 커버리지 ≥ 90%\n      - DOMAIN_SCHEMA.md 컬럼명 준수\n    validation: npm run test && npm run type-check\n\n  - name: \"Web UI\"\n    type: SOURCE_CODE\n    location: \"backend/public/index.html\"\n    criteria:\n      - 대본 생성 버튼\n      - 생성된 대본 표시 (Host/Guest 구분)\n      - 원본 게시글 목록 표시 (PII 마스킹)\n      - 메타데이터 표시\n    validation: 브라우저 렌더링 확인\n\n  - name: \"TTS Player\"\n    type: SOURCE_CODE\n    location: \"backend/public/index.html (내장)\"\n    criteria:\n      - 재생/일시정지/정지 컨트롤\n      - Host/Guest 음색 구분 (pitch 차이)\n      - 세그먼트별 순차 재생\n      - 현재 재생 위치 하이라이트\n    validation: TTS 재생 테스트\n    tech_option:\n      - Web Speech API (브라우저 내장, 무료, 권장)\n      - Google Cloud TTS (고품질, 유료)\n      - Naver Clova Voice (한국어 특화, 유료)\n```\n\n---\n\n## 9. 제약사항 (Constraints)\n\n| 카테고리     | 항목       | 설명                                          |\n| ------------ | ---------- | --------------------------------------------- |\n| **보안**     | PII 마스킹 | 환자명, 의사 실명, 병원명, 연락처 마스킹 필수 |\n| **보안**     | DB 접근    | `DB_ACCESS_POLICY.md` 준수, SELECT만 허용     |\n| **성능**     | 쿼리 제한  | 대용량 테이블 Full Scan 금지                  |\n| **규격**     | 대본 길이  | TTS 변환 시 3분 (400~550 단어)                |\n| **톤앤매너** | 구어체     | 존댓말, 자연스러운 대화체                     |\n\n---\n\n## 10. HITL 체크포인트\n\n| Phase  | 체크포인트     | 승인 조건                        | 실패 시        |\n| ------ | -------------- | -------------------------------- | -------------- |\n| A→B    | SQL 결과 검증  | 5건 추출, PII 마스킹 확인        | Phase A 재실행 |\n| B→C    | 대본 품질 검증 | 구어체 자연스러움, PII 완전 제거 | 대본 수정 요청 |\n| C 완료 | 구현 검증      | 서버 실행, UI 렌더링, TTS 재생   | 코드 수정 요청 |\n| 최종   | 안전성 검증    | Content_Safety_Check 통과        | 배포 보류      |\n\n---\n\n## 변경 이력\n\n| 버전  | 날짜       | 변경 내용                                                                                                 |\n| ----- | ---------- | --------------------------------------------------------------------------------------------------------- |\n| 3.0.0 | 2025-12-30 | Phase C 추가: Web UI(F5), TTS 음성 재생(F6), 화자 구분 음성(F7), CoderAgent 산출물 정의                   |\n| 2.0.0 | 2025-12-29 | PRD_GUIDE.md v2.1 기준 전면 개정, YAML 형식 정규화, 성공 지표 정량화, 레퍼런스 추가, HITL 체크포인트 명시 |\n| 1.1.0 | 2025-12-26 | 초기 버전                                                                                                 |\n\n---\n\n**END OF PRD**\n"
      },
      "timestamp": "2025-12-30T06:29:56.607Z"
    },
    {
      "event": "STATUS_CHANGED",
      "data": {
        "status": "RUNNING",
        "currentPhase": "initialized"
      },
      "timestamp": "2025-12-30T06:29:56.608Z"
    }
  ],
  "metadata": {
    "pipeline": "auto",
    "mode": null,
    "projectRoot": "/Users/m2-mini/Desktop/eunah/ATO-System-B",
    "maxRetries": 3,
    "autoApprove": true
  },
  "retryCount": 0,
  "maxRetries": 3
}